
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{Crime EDA}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \hypertarget{importing-data-cleaning}{%
\section{Importing Data \& Cleaning}\label{importing-data-cleaning}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}176}]:} \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}\PY{o}{,} \PY{n+nn}{re}
          \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
          \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{ticker} \PY{k}{as} \PY{n+nn}{mtick}
          \PY{k+kn}{import} \PY{n+nn}{glob}
          \PY{k+kn}{import} \PY{n+nn}{os}
          \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
          \PY{k+kn}{import} \PY{n+nn}{math}
          \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sb}
          \PY{k+kn}{import} \PY{n+nn}{geocoder}
          \PY{k+kn}{import} \PY{n+nn}{requests}
          \PY{k+kn}{import} \PY{n+nn}{time}
          \PY{k+kn}{import} \PY{n+nn}{folium}
          \PY{k+kn}{from} \PY{n+nn}{folium}\PY{n+nn}{.}\PY{n+nn}{plugins} \PY{k}{import} \PY{n}{HeatMap}\PY{p}{,} \PY{n}{HeatMapWithTime}
          \PY{k+kn}{from} \PY{n+nn}{geopy} \PY{k}{import} \PY{n}{distance}
          \PY{k+kn}{import} \PY{n+nn}{sklearn}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{linear\PYZus{}model} \PY{k}{import} \PY{n}{LinearRegression}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{accuracy\PYZus{}score}\PY{p}{,} \PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{,} \PY{n}{r2\PYZus{}score}\PY{p}{,} \PY{n}{mean\PYZus{}absolute\PYZus{}error}
\end{Verbatim}


     Importing PSNI street crime data from 08-2015 to 05-2018 and displaying
the first five rows 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n}{src\PYZus{}dir} \PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/PSNI\PYZus{}StreetCrime\PYZus{}1Year}\PY{l+s+s1}{\PYZsq{}}
        \PY{n}{psni\PYZus{}crime\PYZus{}data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{)}
        \PY{n}{list\PYZus{}} \PY{o}{=} \PY{p}{[}\PY{p}{]}
        \PY{n}{i} \PY{o}{=} \PY{l+m+mi}{0}
        \PY{k}{for} \PY{n}{root}\PY{p}{,} \PY{n}{dirs}\PY{p}{,} \PY{n}{files} \PY{o+ow}{in} \PY{n}{os}\PY{o}{.}\PY{n}{walk}\PY{p}{(}\PY{n}{src\PYZus{}dir}\PY{p}{)}\PY{p}{:}
            \PY{n}{allFiles} \PY{o}{=} \PY{n}{glob}\PY{o}{.}\PY{n}{glob}\PY{p}{(}\PY{n}{root} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/*.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
            \PY{k}{for} \PY{n}{file} \PY{o+ow}{in} \PY{n}{allFiles}\PY{p}{:}
                \PY{n}{year\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n}{file}\PY{p}{,}\PY{n}{index\PYZus{}col}\PY{o}{=}\PY{k+kc}{None}\PY{p}{,} \PY{n}{header}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
                \PY{n}{list\PYZus{}}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{year\PYZus{}df}\PY{p}{)}
                \PY{n}{psni\PYZus{}crime\PYZus{}data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{n}{list\PYZus{}}\PY{p}{)}
        \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:}   Crime ID    Month                         Reported by  \textbackslash{}
        0      NaN  2015-08  Police Service of Northern Ireland   
        1      NaN  2015-08  Police Service of Northern Ireland   
        2      NaN  2015-08  Police Service of Northern Ireland   
        3      NaN  2015-08  Police Service of Northern Ireland   
        4      NaN  2015-08  Police Service of Northern Ireland   
        
                                 Falls within  Longitude   Latitude  \textbackslash{}
        0  Police Service of Northern Ireland  -7.378949  54.717334   
        1  Police Service of Northern Ireland  -5.891082  54.222501   
        2  Police Service of Northern Ireland  -5.667276  54.663573   
        3  Police Service of Northern Ireland  -5.962330  54.587243   
        4  Police Service of Northern Ireland  -5.894063  54.590423   
        
                            Location  LSOA code  LSOA name             Crime type  \textbackslash{}
        0   On or near Dublin Street        NaN        NaN  Anti-social behaviour   
        1  On or near Bracken Avenue        NaN        NaN  Anti-social behaviour   
        2     On or near High Street        NaN        NaN  Anti-social behaviour   
        3   On or near Rodney Parade        NaN        NaN  Anti-social behaviour   
        4   On or near Brenda Street        NaN        NaN  Anti-social behaviour   
        
           Last outcome category  Context  
        0                    NaN      NaN  
        1                    NaN      NaN  
        2                    NaN      NaN  
        3                    NaN      NaN  
        4                    NaN      NaN  
\end{Verbatim}
            
     Let's look at the data frame from a high level and identify the data
type and stored data in the columns 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
Int64Index: 445745 entries, 0 to 13728
Data columns (total 12 columns):
Crime ID                 274726 non-null object
Month                    445745 non-null object
Reported by              445745 non-null object
Falls within             445745 non-null object
Longitude                443370 non-null float64
Latitude                 443370 non-null float64
Location                 445745 non-null object
LSOA code                0 non-null float64
LSOA name                0 non-null float64
Crime type               445745 non-null object
Last outcome category    0 non-null float64
Context                  0 non-null float64
dtypes: float64(6), object(6)
memory usage: 44.2+ MB

    \end{Verbatim}

     There are a number of columns that are redundant, containing all null
values. Let's drop them from the table. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LSOA code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LSOA name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Last outcome category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Context}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{n}{include}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{all}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:}                                                  Crime ID    Month  \textbackslash{}
        count                                              274726   445745   
        unique                                              11728       34   
        top     ccc57a60e099838df1d6fe39338b635beb9187e35e9409{\ldots}  2015-10   
        freq                                                   34    15444   
        mean                                                  NaN      NaN   
        std                                                   NaN      NaN   
        min                                                   NaN      NaN   
        25\%                                                   NaN      NaN   
        50\%                                                   NaN      NaN   
        75\%                                                   NaN      NaN   
        max                                                   NaN      NaN   
        
                                       Reported by  \textbackslash{}
        count                               445745   
        unique                                   1   
        top     Police Service of Northern Ireland   
        freq                                445745   
        mean                                   NaN   
        std                                    NaN   
        min                                    NaN   
        25\%                                    NaN   
        50\%                                    NaN   
        75\%                                    NaN   
        max                                    NaN   
        
                                      Falls within      Longitude       Latitude  \textbackslash{}
        count                               445745  443370.000000  443370.000000   
        unique                                   1            NaN            NaN   
        top     Police Service of Northern Ireland            NaN            NaN   
        freq                                445745            NaN            NaN   
        mean                                   NaN      -6.268281      54.620995   
        std                                    NaN       0.527199       0.227856   
        min                                    NaN      -8.148313      54.026858   
        25\%                                    NaN      -6.512727      54.511284   
        50\%                                    NaN      -6.011100      54.597057   
        75\%                                    NaN      -5.924801      54.697173   
        max                                    NaN      -5.434918      55.240074   
        
                   Location             Crime type  
        count        445745                 445745  
        unique        14872                     14  
        top     On or near   Anti-social behaviour  
        freq          61638                 171019  
        mean            NaN                    NaN  
        std             NaN                    NaN  
        min             NaN                    NaN  
        25\%             NaN                    NaN  
        50\%             NaN                    NaN  
        75\%             NaN                    NaN  
        max             NaN                    NaN  
\end{Verbatim}
            
     Crime ID is not shared by all the rows. According to the official
police API (https://data.police.uk/docs/method/crime-street/), this is
used as an ID for the API and is not a police identifier. Let's
investigate this ID further and decide whether it is valuable to have in
the table. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{num\PYZus{}unique\PYZus{}crime\PYZus{}ids} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{nunique}\PY{p}{(}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{n}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Number of unique crime ids: }\PY{l+s+si}{\PYZob{}num\PYZus{}unique\PYZus{}crime\PYZus{}ids\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        
        \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}crimetype} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)}
        \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}crimetype}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Number of unique crime ids: 11728

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} Crime type
        Anti-social behaviour                0
        Bicycle theft                     2141
        Burglary                         20368
        Criminal damage and arson        52336
        Drugs                            16483
        Other crime                       7472
        Other theft                      37313
        Possession of weapons             2701
        Public order                      3334
        Robbery                           1732
        Shoplifting                      17389
        Theft from the person             1253
        Vehicle crime                    11743
        Violence and sexual offences    100461
        Name: Crime ID, dtype: int64
\end{Verbatim}
            
     Anti social behaviour does not have any Crime IDs associated with them.
As Crime ID is not unique this makes me suspect there could be
duplicates of the same crime in the table. I'm going to investigate this
by finding rows with the same Crime ID, Month, Longitude, Latitude,
Location and Crime Type 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{grouped\PYZus{}psni\PYZus{}crime\PYZus{}data} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{fillna}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{num\PYZus{}duplicate\PYZus{}rows} \PY{o}{=} \PY{n}{grouped\PYZus{}psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{n}{grouped\PYZus{}psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{counts} \PY{o}{\PYZgt{}} \PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{counts}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
        \PY{n}{percent\PYZus{}duplicate\PYZus{}rows} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+si}{\PYZob{}:.1\PYZpc{}\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{num\PYZus{}duplicate\PYZus{}rows}\PY{o}{/}\PY{n+nb}{len}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{n}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+si}{\PYZob{}percent\PYZus{}duplicate\PYZus{}rows\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
16.3\%

    \end{Verbatim}

     16.3\% of rows could be potentially duplicate. I will drop Crime ID as
it is not an effective unique identifier for the rows and has no use
interacting with the Police API. ``Missing outcome data. Neither the
British Transport Police nor the Police Service of Northern Ireland
provide the Home Office with outcome data. Although we are exploring the
possibility of this with both forces, technical challenges mean that a
solution remains some way off.'' - https://data.police.uk/about/

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


     `Reported by' and `Falls within' columns can be dropped as in all
entries they are both set to `Police Service of Northern Ireland'

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n+nb}{print}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Reported by}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{nunique}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Falls within}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{nunique}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Reported by}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Falls within}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
1
1

    \end{Verbatim}

     There is NaN float values in the longitude and latitude. Let's
investigate this further. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)} \PY{o}{|} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}11}]:}         Month  Longitude  Latitude     Location             Crime type
         225   2015-08        NaN       NaN  No Location  Anti-social behaviour
         3812  2015-08        NaN       NaN  No Location  Anti-social behaviour
         5713  2015-08        NaN       NaN  No Location          Bicycle theft
         5732  2015-08        NaN       NaN  No Location          Bicycle theft
         6223  2015-08        NaN       NaN  No Location               Burglary
\end{Verbatim}
            
     I'm going to verify that No Location value in Location has a direct
relationship with Longitude and Latitude 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{No Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{o}{\PYZti{}}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)} \PY{o}{\PYZam{}} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}12}]:} Empty DataFrame
         Columns: [Month, Longitude, Latitude, Location, Crime type]
         Index: []
\end{Verbatim}
            
     Let's add a binary column that is 1 if the location associated and 0 if
it does not not. This will make excluding these datasets more manageable
when geographing the crimes. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{k}{def} \PY{n+nf}{has\PYZus{}location}\PY{p}{(}\PY{n}{row}\PY{p}{)}\PY{p}{:}
             \PY{k}{if} \PY{p}{(}\PY{n}{math}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)} \PY{o+ow}{or} \PY{n}{math}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)} \PY{o+ow}{or} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{No Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{:}
                 \PY{k}{return} \PY{k+kc}{False}
             \PY{k}{else}\PY{p}{:}
                 \PY{k}{return} \PY{k+kc}{True}
         
         \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Has\PYZus{}Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{row}\PY{p}{:} \PY{n}{has\PYZus{}location} \PY{p}{(}\PY{n}{row}\PY{p}{)}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{dtypes}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}14}]:} Month            object
         Longitude       float64
         Latitude        float64
         Location         object
         Crime type       object
         Has\_Location       bool
         dtype: object
\end{Verbatim}
            
     The month column data is presented in the format yyyy-mm. This can be
converted to datetime split up into more columns to allow for more
information to be derived. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Date}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}datetime}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n+nb}{format}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{Y\PYZhy{}}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{m}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


     The following add\_datepart algorithm is from fastai
(https://www.fast.ai/). 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{k}{def} \PY{n+nf}{add\PYZus{}datepart}\PY{p}{(}\PY{n}{df}\PY{p}{,} \PY{n}{fldname}\PY{p}{,} \PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{time}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{p}{:}
             \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}add\PYZus{}datepart converts a column of df from a datetime64 to many columns containing}
         \PY{l+s+sd}{    the information from the date. This applies changes inplace.}
         \PY{l+s+sd}{    Parameters:}
         \PY{l+s+sd}{    \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
         \PY{l+s+sd}{    df: A pandas data frame. df gain several new columns.}
         \PY{l+s+sd}{    fldname: A string that is the name of the date column you wish to expand.}
         \PY{l+s+sd}{        If it is not a datetime64 series, it will be converted to one with pd.to\PYZus{}datetime.}
         \PY{l+s+sd}{    drop: If true then the original date column will be removed.}
         \PY{l+s+sd}{    time: If true time features: Hour, Minute, Second will be added.}
         \PY{l+s+sd}{    Examples:}
         \PY{l+s+sd}{    \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
         \PY{l+s+sd}{    \PYZgt{}\PYZgt{}\PYZgt{} df = pd.DataFrame(\PYZob{} \PYZsq{}A\PYZsq{} : pd.to\PYZus{}datetime([\PYZsq{}3/11/2000\PYZsq{}, \PYZsq{}3/12/2000\PYZsq{}, \PYZsq{}3/13/2000\PYZsq{}], infer\PYZus{}datetime\PYZus{}format=False) \PYZcb{})}
         \PY{l+s+sd}{    \PYZgt{}\PYZgt{}\PYZgt{} df}
         \PY{l+s+sd}{        A}
         \PY{l+s+sd}{    0   2000\PYZhy{}03\PYZhy{}11}
         \PY{l+s+sd}{    1   2000\PYZhy{}03\PYZhy{}12}
         \PY{l+s+sd}{    2   2000\PYZhy{}03\PYZhy{}13}
         \PY{l+s+sd}{    \PYZgt{}\PYZgt{}\PYZgt{} add\PYZus{}datepart(df, \PYZsq{}A\PYZsq{})}
         \PY{l+s+sd}{    \PYZgt{}\PYZgt{}\PYZgt{} df}
         \PY{l+s+sd}{        AYear AMonth AWeek ADay ADayofweek ADayofyear AIs\PYZus{}month\PYZus{}end AIs\PYZus{}month\PYZus{}start AIs\PYZus{}quarter\PYZus{}end AIs\PYZus{}quarter\PYZus{}start AIs\PYZus{}year\PYZus{}end AIs\PYZus{}year\PYZus{}start AElapsed}
         \PY{l+s+sd}{    0   2000  3      10    11   5          71         False         False           False           False             False        False          952732800}
         \PY{l+s+sd}{    1   2000  3      10    12   6          72         False         False           False           False             False        False          952819200}
         \PY{l+s+sd}{    2   2000  3      11    13   0          73         False         False           False           False             False        False          952905600}
         \PY{l+s+sd}{    \PYZdq{}\PYZdq{}\PYZdq{}}
             \PY{n}{fld} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{n}{fldname}\PY{p}{]}
             \PY{n}{fld\PYZus{}dtype} \PY{o}{=} \PY{n}{fld}\PY{o}{.}\PY{n}{dtype}
             \PY{k}{if} \PY{n+nb}{isinstance}\PY{p}{(}\PY{n}{fld\PYZus{}dtype}\PY{p}{,} \PY{n}{pd}\PY{o}{.}\PY{n}{core}\PY{o}{.}\PY{n}{dtypes}\PY{o}{.}\PY{n}{dtypes}\PY{o}{.}\PY{n}{DatetimeTZDtype}\PY{p}{)}\PY{p}{:}
                 \PY{n}{fld\PYZus{}dtype} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{datetime64}
         
             \PY{k}{if} \PY{o+ow}{not} \PY{n}{np}\PY{o}{.}\PY{n}{issubdtype}\PY{p}{(}\PY{n}{fld\PYZus{}dtype}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{datetime64}\PY{p}{)}\PY{p}{:}
                 \PY{n}{df}\PY{p}{[}\PY{n}{fldname}\PY{p}{]} \PY{o}{=} \PY{n}{fld} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}datetime}\PY{p}{(}\PY{n}{fld}\PY{p}{,} \PY{n}{infer\PYZus{}datetime\PYZus{}format}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
             \PY{n}{targ\PYZus{}pre} \PY{o}{=} \PY{n}{re}\PY{o}{.}\PY{n}{sub}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{[Dd]ate\PYZdl{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fldname}\PY{p}{)}
             \PY{n}{attr} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Week}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{k}{for} \PY{n}{n} \PY{o+ow}{in} \PY{n}{attr}\PY{p}{:} \PY{n}{df}\PY{p}{[}\PY{n}{targ\PYZus{}pre} \PY{o}{+} \PY{n}{n}\PY{p}{]} \PY{o}{=} \PY{n+nb}{getattr}\PY{p}{(}\PY{n}{fld}\PY{o}{.}\PY{n}{dt}\PY{p}{,} \PY{n}{n}\PY{o}{.}\PY{n}{lower}\PY{p}{(}\PY{p}{)}\PY{p}{)}
             \PY{k}{if} \PY{n}{drop}\PY{p}{:} \PY{n}{df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{fldname}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
                 
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{n}{add\PYZus{}datepart}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Date}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{dtypes}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}18}]:} Longitude       float64
         Latitude        float64
         Location         object
         Crime type       object
         Has\_Location       bool
         Year              int64
         Month             int64
         Week              int64
         Quarter           int64
         dtype: object
\end{Verbatim}
            
    Location has the streets listed with `On or near' preceding them. This
can be formatted for better location processing.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{k}{def} \PY{n+nf}{format\PYZus{}street}\PY{p}{(}\PY{n}{row}\PY{p}{)}\PY{p}{:}
             \PY{n}{formattedstreet} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{formattedstreet} \PY{o}{=} \PY{n}{formattedstreet}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{On or near}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{formattedstreet} \PY{o}{=} \PY{n}{formattedstreet}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}
             \PY{k}{return} \PY{n}{formattedstreet}\PY{o}{.}\PY{n}{lower}\PY{p}{(}\PY{p}{)}
             
         
         \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{row}\PY{p}{:} \PY{n}{format\PYZus{}street}\PY{p}{(}\PY{n}{row}\PY{p}{)}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dublin street}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}20}]:}       Longitude   Latitude       Location                 Crime type  \textbackslash{}
         0     -7.378949  54.717334  dublin street      Anti-social behaviour   
         3019  -7.378949  54.717334  dublin street      Anti-social behaviour   
         6544  -7.378949  54.717334  dublin street  Criminal damage and arson   
         2606  -7.380017  54.713413  dublin street      Anti-social behaviour   
         877   -7.378949  54.717334  dublin street      Anti-social behaviour   
         
               Has\_Location  Year  Month  Week  Quarter  
         0             True  2015      8    31        3  
         3019          True  2015      8    31        3  
         6544          True  2015      8    31        3  
         2606          True  2015      9    36        3  
         877           True  2015     10    40        4  
\end{Verbatim}
            
     I'm going to categorise Location and Crime type as this will make the
data splittable 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{dtypes}
         \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}psni\PYZus{}crime\PYZus{}data.describe()}
         \PY{c+c1}{\PYZsh{}psni\PYZus{}crime\PYZus{}data[(psni\PYZus{}crime\PYZus{}data.Has\PYZus{}Location) == True \PYZam{} (psni\PYZus{}crime\PYZus{}data.Location != \PYZsq{}\PYZsq{})]}
         \PY{c+c1}{\PYZsh{}sb.heatmap(psni\PYZus{}crime\PYZus{}data[psni\PYZus{}crime\PYZus{}data.Has\PYZus{}Location == True])}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{dtypes}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}22}]:} Longitude        float64
         Latitude         float64
         Location        category
         Crime type      category
         Has\_Location        bool
         Year               int64
         Month              int64
         Week               int64
         Quarter            int64
         dtype: object
\end{Verbatim}
            
     I am now content the data has been cleaned. 

    \hypertarget{visualising-crime-trends}{%
\section{Visualising crime trends}\label{visualising-crime-trends}}

     I am going to create a chart showing the crimes per month and year to
see if there is any general trend in crime over a time period. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}23}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{width} \PY{o}{=} \PY{l+m+mf}{0.27}
         
         \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{l+m+mi}{111}\PY{p}{)}
         
         \PY{n}{yvals2015} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2015}\PY{p}{]}\PY{o}{.}\PY{n}{counts}
         \PY{n}{xvals2015} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2015}\PY{p}{]}\PY{o}{.}\PY{n}{Month}
         \PY{n}{rects2015} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{xvals2015}\PY{p}{,} \PY{n}{yvals2015}\PY{p}{,} \PY{n}{width}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}AED6F1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{yvals2016} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{counts}
         \PY{n}{xvals2016} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{Month}
         \PY{n}{rects2016} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{xvals2016}\PY{o}{+}\PY{n}{width}\PY{p}{,} \PY{n}{yvals2016}\PY{p}{,} \PY{n}{width}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}3498DB}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{yvals2017} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{counts}
         \PY{n}{xvals2017} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{Month}
         \PY{n}{rects2017} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{xvals2017}\PY{o}{+}\PY{n}{width}\PY{o}{*}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{yvals2017}\PY{p}{,} \PY{n}{width}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}2874A6}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{yvals2018} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2018}\PY{p}{]}\PY{o}{.}\PY{n}{counts}
         \PY{n}{xvals2018} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2018}\PY{p}{]}\PY{o}{.}\PY{n}{Month}
         \PY{n}{rects2018} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{xvals2018}\PY{o}{+}\PY{n}{width}\PY{o}{*}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{yvals2018}\PY{p}{,} \PY{n}{width}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}1B4F72}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of crimes}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{13}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{n}{rects2015}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{rects2016}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{rects2017}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{rects2018}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2015}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2016}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2017}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Chart of crimes per month split by year}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylim}\PY{p}{(}\PY{l+m+mi}{10500}\PY{p}{,} \PY{l+m+mi}{16000}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_40_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     Across the 4 years there seems to be a general decrease in total crimes
in the winter months (January, February) and a peak in October. There is
crime total drops every year for the months February, March, August and
October. July (albeit with less data than the other months) shows a
rise. 

     I am going to group the time specific columns to see if there is any
general observations I can gather from the month, year and quarter of
crime. The data ranges from 2015-08 to 2018-05 so I am going to choose
2016-01 to 2017-12 as the range to avoid months disproportionately
provided more data. I am going to visualise the difference in month
crime totals 2016 vs 2017.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
         \PY{n}{counts\PYZus{}per\PYZus{}month\PYZus{}2017} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         \PY{n}{counts\PYZus{}per\PYZus{}month\PYZus{}2016} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         
         
         \PY{n}{dictMonth} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
         \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{counts\PYZus{}per\PYZus{}month\PYZus{}2017}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{difference} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{n}{counts\PYZus{}per\PYZus{}month\PYZus{}2016}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{index}\PY{p}{]}\PY{o}{.}\PY{n}{counts}\PY{p}{)}
             \PY{n}{difference\PYZus{}percent} \PY{o}{=} \PY{n}{difference}\PY{o}{/}\PY{p}{(}\PY{n}{counts\PYZus{}per\PYZus{}month\PYZus{}2016}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{index}\PY{p}{]}\PY{o}{.}\PY{n}{counts}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}
             \PY{n}{dictMonth}\PY{p}{[}\PY{n+nb}{str}\PY{p}{(}\PY{n}{index}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]} \PY{o}{=} \PY{n}{difference\PYZus{}percent}
             
         \PY{n}{difference\PYZus{}2016\PYZus{}2017} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{o}{.}\PY{n}{from\PYZus{}dict}\PY{p}{(}\PY{n}{dictMonth}\PY{p}{,} \PY{n}{orient}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{index}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{difference\PYZus{}2016\PYZus{}2017}\PY{o}{.}\PY{n}{index} \PY{o}{=} \PY{n}{difference\PYZus{}2016\PYZus{}2017}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{float}\PY{p}{)}
         
         \PY{n}{ax} \PY{o}{=} \PY{n}{sb}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{difference\PYZus{}2016\PYZus{}2017}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{difference\PYZus{}2016\PYZus{}2017}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Percentage of crimes occured}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xticks}\PY{o}{=}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{yaxis}\PY{o}{.}\PY{n}{set\PYZus{}major\PYZus{}formatter}\PY{p}{(}\PY{n}{mtick}\PY{o}{.}\PY{n}{PercentFormatter}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Chart of changes in crime occuring between 2016 and 2017}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{hspace}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{wspace}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_43_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     There is a considerable increase in crime in 2017 in the months April
and November from 2016. 

     I'm going to look at a month and quarter level to see if there's any
differences in times of the year and the number of crimes occurring in
the period 2016-2017. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}25}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2015}\PY{p}{)} \PYZbs{}
                                                                       \PY{o}{|} \PY{p}{(}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2018}\PY{p}{)}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}year} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}quarter} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}quarter\PYZus{}year} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{counts\PYZus{}per\PYZus{}quarter\PYZus{}2017} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}quarter\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}quarter\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         \PY{n}{counts\PYZus{}per\PYZus{}quarter\PYZus{}2016} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}quarter\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}quarter\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}26}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{counts\PYZus{}per\PYZus{}month\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{labels} \PY{o}{=} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PYZbs{}
                 \PY{n}{autopct}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZpc{}1.2f}\PY{l+s+si}{\PYZpc{}\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{shadow}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{startangle}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axis}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{equal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{2016: Chart of all crimes and anti\PYZhy{}social behaviour occuring per month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{2016: Chart of all crimes and anti\PYZhy{}social behaviour occuring per quarter}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{counts\PYZus{}per\PYZus{}quarter\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{labels} \PY{o}{=} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 4}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PY{n}{autopct}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZpc{}1.1f}\PY{l+s+si}{\PYZpc{}\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{shadow}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{startangle}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axis}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{equal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{counts\PYZus{}per\PYZus{}month\PYZus{}2017}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{labels} \PY{o}{=} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PYZbs{}
                 \PY{n}{autopct}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZpc{}1.2f}\PY{l+s+si}{\PYZpc{}\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{shadow}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{startangle}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axis}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{equal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{2017: Chart of all crimes and anti\PYZhy{}social behaviour occuring per month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{2017: Chart of all crimes and anti\PYZhy{}social behaviour occuring per quarter}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{counts\PYZus{}per\PYZus{}quarter\PYZus{}2017}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{labels} \PY{o}{=} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 4}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PY{n}{autopct}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZpc{}1.1f}\PY{l+s+si}{\PYZpc{}\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{shadow}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{startangle}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axis}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{equal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{hspace}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{wspace}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     2016: Most crimes in October and Quarter 3. Least crimes in month
November and Quarter 1. 2017: Most crimes in May and Quarter 3. Least
crimes in January and Quarter 1. Let's take a look at comparing 2016 and
2017 and see if there is a trend in those periods.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}27}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{yvals2016} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{counts}
         \PY{n}{xvals2016} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{Month}
         \PY{n}{yvals2017} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{counts}
         \PY{n}{xvals2017} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{Month}
         \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{xvals2017}\PY{p}{,} \PY{n}{yvals2017}\PY{p}{,} \PY{n}{marker} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{xvals2016}\PY{p}{,} \PY{n}{yvals2016}\PY{p}{,} \PY{n}{marker} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{13}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Months}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of crimes}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Chart of all crimes and anti\PYZhy{}social behaviour occuring per month: 2016 versus 2017}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}27}]:} Text(0.5,1,'Chart of all crimes and anti-social behaviour occuring per month: 2016 versus 2017')
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_49_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     There appears to be a rise in crimes in the summer months and a fall in
the winter. I'm going to use numpy polyfit to estimate a polynomial
regression to better visualise the yearly trend of number of crimes. I'm
going to include data from 2015 and 2018 as this is not analysing month
to month. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}28}]:} \PY{n}{sb}\PY{o}{.}\PY{n}{lmplot}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{data}\PY{o}{=}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{2015}\PY{p}{)}\PY{p}{]}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{ci}\PY{o}{=}\PY{k+kc}{None}\PY{p}{,} \PY{n}{height}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,} \PY{n}{aspect}\PY{o}{=}\PY{l+m+mf}{1.5}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{13}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Months}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of crimes}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{2015\PYZhy{}2018 with regression curve}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_51_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     There is a higher occurence of crimes in summer months (June, July
August) than in Winter Months (December, January, February). I am going
to investigate the type of crimes being committed these months to see if
there's a type of crime more or less prevelant in particular months. 

     I'm going to take a look at first crime types in 2016 vs 2017 to see if
there is any notable increases or decreases. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}29}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type}
         \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
         \PY{n}{counts\PYZus{}per\PYZus{}month\PYZus{}2017} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         \PY{n}{counts\PYZus{}per\PYZus{}month\PYZus{}2016} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         
         \PY{n}{dictMonth} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
         \PY{n}{dictDiffRaw} \PY{o}{=} \PY{p}{[}\PY{p}{]}
         \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{counts\PYZus{}per\PYZus{}month\PYZus{}2017}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
              \PY{n}{difference} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{n}{counts\PYZus{}per\PYZus{}month\PYZus{}2016}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{index}\PY{p}{]}\PY{o}{.}\PY{n}{counts}\PY{p}{)}
              \PY{n}{difference\PYZus{}percent} \PY{o}{=} \PY{n}{difference}\PY{o}{/}\PY{p}{(}\PY{n}{counts\PYZus{}per\PYZus{}month\PYZus{}2016}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{index}\PY{p}{]}\PY{o}{.}\PY{n}{counts}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}
              \PY{n}{dictMonth}\PY{p}{[}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{n}{difference\PYZus{}percent}
              \PY{n}{dictDiffRaw}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{difference}\PY{p}{)}
            
         \PY{n}{difference\PYZus{}2016\PYZus{}2017} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{o}{.}\PY{n}{from\PYZus{}dict}\PY{p}{(}\PY{n}{dictMonth}\PY{p}{,} \PY{n}{orient}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{index}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{difference\PYZus{}2016\PYZus{}2017}\PY{o}{.}\PY{n}{index} \PY{o}{=} \PY{n}{difference\PYZus{}2016\PYZus{}2017}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{str}\PY{p}{)}
         
         \PY{n}{difference\PYZus{}2016\PYZus{}2017}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
         \PY{n}{ax} \PY{o}{=} \PY{n}{sb}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{difference\PYZus{}2016\PYZus{}2017}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{difference\PYZus{}2016\PYZus{}2017}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{difference\PYZus{}2016\PYZus{}2017}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{n}{difference\PYZus{}2016\PYZus{}2017}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}} \PY{k}{if} \PY{n}{x}\PY{o}{\PYZgt{}}\PY{l+m+mi}{0} \PY{k}{else} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{g}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Percentage of crimes occured}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime Type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{xaxis}\PY{o}{.}\PY{n}{set\PYZus{}major\PYZus{}formatter}\PY{p}{(}\PY{n}{mtick}\PY{o}{.}\PY{n}{PercentFormatter}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Chart of changes in crime types occuring 2017 vs 2016}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{hspace}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{wspace}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}
         
         \PY{n}{total} \PY{o}{=} \PY{n+nb}{float}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{difference\PYZus{}2016\PYZus{}2017}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{i} \PY{o}{=} \PY{l+m+mi}{0}
         \PY{k}{for} \PY{n}{p} \PY{o+ow}{in} \PY{n}{ax}\PY{o}{.}\PY{n}{patches}\PY{p}{:}
             \PY{n}{width} \PY{o}{=} \PY{n}{p}\PY{o}{.}\PY{n}{get\PYZus{}width}\PY{p}{(}\PY{p}{)}
             \PY{n}{height} \PY{o}{=} \PY{n}{p}\PY{o}{.}\PY{n}{get\PYZus{}height}\PY{p}{(}\PY{p}{)}
             \PY{n}{ax}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{p}\PY{o}{.}\PY{n}{get\PYZus{}x}\PY{p}{(}\PY{p}{)}\PY{o}{+}\PY{n}{width}\PY{o}{/}\PY{l+m+mi}{2}\PY{p}{,}
                      \PY{n}{p}\PY{o}{.}\PY{n}{get\PYZus{}y}\PY{p}{(}\PY{p}{)}\PY{o}{+}\PY{n}{height}\PY{o}{/}\PY{l+m+mf}{1.5}\PY{p}{,}
                      \PY{n}{dictDiffRaw}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,}
                    \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{i} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_54_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     ASB sees an increase from 2016 to 2017. Drug crimes sees the largest \%
increase from 2016 to 2017. Robbery sees the largest \% decrease from
2016 to 2017. 

     I've visualised crime type as yearly comparison, now let's look at it
by month. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}30}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}30}]:}    Month                 Crime type  counts
         0      1      Anti-social behaviour    8366
         1      1              Bicycle theft      87
         2      1                   Burglary    1228
         3      1  Criminal damage and arson    2781
         4      1                      Drugs     890
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type}\PY{o}{.}\PY{n}{pivot}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}31}]:} Crime type  Anti-social behaviour  Bicycle theft  Burglary  \textbackslash{}
         Month                                                        
         1                            8366             87      1228   
         2                            8461             92      1263   
         3                           10199             94      1243   
         4                           10035            125      1094   
         5                           11419            169      1137   
         
         Crime type  Criminal damage and arson  Drugs  Other crime  Other theft  \textbackslash{}
         Month                                                                    
         1                                2781    890          392         2049   
         2                                2748    941          512         2193   
         3                                3325   1012          525         2136   
         4                                3173    971          399         2144   
         5                                3261    880          494         2275   
         
         Crime type  Possession of weapons  Public order  Robbery  Shoplifting  \textbackslash{}
         Month                                                                   
         1                             137           170      100          812   
         2                             126           215       98         1042   
         3                             172           235       97          980   
         4                             164           191      103         1027   
         5                             178           217       84         1031   
         
         Crime type  Theft from the person  Vehicle crime  Violence and sexual offences  
         Month                                                                           
         1                              70            722                          5491  
         2                              84            670                          5416  
         3                              64            702                          6334  
         4                              82            701                          5622  
         5                              75            619                          6410  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}32}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type}\PY{o}{.}\PY{n}{pivot}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{58}\PY{p}{)}\PY{p}{)}
         \PY{n}{i}\PY{o}{=}\PY{l+m+mi}{1}
         \PY{k}{for} \PY{n}{column} \PY{o+ow}{in} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm}\PY{o}{.}\PY{n}{columns}\PY{p}{:}
             \PY{k}{if} \PY{p}{(}\PY{n}{column} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{:}
                 \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm}\PY{o}{.}\PY{n}{columns}\PY{p}{)}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{i}\PY{p}{)}
                 \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
                 \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{n}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}column\PYZcb{}}\PY{l+s+s1}{ frequency per month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                 \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of crimes}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                 \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                 \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm}\PY{p}{[}\PY{n}{column}\PY{p}{]}\PY{p}{)}
                 \PY{n}{i} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{hspace}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_59_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     Anti social behaviour: peaks in October, is prevelant in July and
August and is least prevelant in November. There is a big drop between
October and November.

Bicycle theft: Rise in June to peak in September, falls after to
December.

Drugs: peak in October, least prevelant in June.

Theft from the person frequency per month: Rise from August to peak in
December.

Different crime types have different prevelances across the year. I'm
going to visualise this using a heatmap to see if I can gather any
additional observations. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}33}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}transposed} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm}\PY{o}{.}\PY{n}{transpose}\PY{p}{(}\PY{p}{)}
         \PY{n}{f}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{9}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{heatmap}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}transposed}\PY{p}{,} \PY{n}{annot}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidths}\PY{o}{=}\PY{o}{.}\PY{l+m+mi}{5}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}33}]:} <matplotlib.axes.\_subplots.AxesSubplot at 0x200b462be48>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_61_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     This heat map is not very informative, with high counts of particular
crimes and anti social behaviour not providing an insight into minor
crimes frequency per month. Let's normalize the data frame using the
standard deviation of each row. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}34}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type}\PY{o}{.}\PY{n}{pivot}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised} \PY{o}{=}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{o}{\PYZhy{}}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}\PY{p}{)}\PY{o}{/}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{o}{.}\PY{n}{std}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised\PYZus{}transpose} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{o}{.}\PY{n}{transpose}\PY{p}{(}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised\PYZus{}transpose}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}34}]:} Month                            1         2         3         4         5   \textbackslash{}
         Crime type                                                                    
         Anti-social behaviour     -1.340441 -1.272085 -0.021526 -0.139531  0.856311   
         Bicycle theft             -1.167723 -1.043276 -0.993498 -0.221930  0.873199   
         Burglary                   0.957883  1.458893  1.172602 -0.960269 -0.344743   
         Criminal damage and arson -1.167728 -1.289226  0.835144  0.275518  0.599512   
         Drugs                     -0.843649 -0.234070  0.614559  0.124505 -0.963174   
         
         Month                            6         7         8         9         10  \textbackslash{}
         Crime type                                                                    
         Anti-social behaviour      0.644047  1.099516  1.028281  0.310901  1.112467   
         Bicycle theft             -0.246819  0.425192  0.898089  1.370985  1.296317   
         Burglary                  -1.260875  0.156267 -0.244541 -1.232246 -0.931640   
         Criminal damage and arson -0.280427  0.871961  1.380043 -0.037431  1.159138   
         Drugs                     -2.134522 -0.377501 -0.198213  0.853610  1.212185   
         
         Month                            11        12  
         Crime type                                     
         Anti-social behaviour     -1.472117 -0.805824  
         Bicycle theft              0.250967 -1.441505  
         Burglary                   1.215546  0.013122  
         Criminal damage and arson -1.171410 -1.175092  
         Drugs                      0.769942  1.176328  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}35}]:} \PY{n}{f}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{9}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{heatmap}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised\PYZus{}transpose}\PY{p}{,} \PY{n}{linewidths}\PY{o}{=}\PY{o}{.}\PY{l+m+mi}{5}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{,} \PY{n}{cmap}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{OrRd}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}35}]:} <matplotlib.axes.\_subplots.AxesSubplot at 0x200b494dc88>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_64_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     Burglary prevelant in January, February and March.

Bicycle theft prevelant in September and October.

Drugs prevelant October, November and December.

Vehicle crime prevelant in November.

Theft from the person prevelant in December.

Some crimes have blocks in which they are prevelant and less prevelant,
there is not an even distribution across the year. As this is mainly an
analysis on anti social behaviour let's compare which crimes are most
similar to the rate of anti social behaviour across the year.

    \hypertarget{comparing-prevelance-of-different-crimes-types-with-anti-social-behaviour}{%
\section{Comparing prevelance of different crimes types with anti social
behaviour}\label{comparing-prevelance-of-different-crimes-types-with-anti-social-behaviour}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}36}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}36}]:} Crime type                    Anti-social behaviour  Bicycle theft  Burglary  \textbackslash{}
         Crime type                                                                     
         Anti-social behaviour                      1.000000       0.689546 -0.676137   
         Bicycle theft                              0.689546       1.000000 -0.576943   
         Burglary                                  -0.676137      -0.576943  1.000000   
         Criminal damage and arson                  0.891696       0.624710 -0.437462   
         Drugs                                     -0.171621       0.107058  0.112229   
         Other crime                                0.177150       0.201760  0.164234   
         Other theft                                0.454125       0.311338 -0.054854   
         Possession of weapons                      0.611439       0.540316 -0.562442   
         Public order                               0.374159       0.205160  0.008333   
         Robbery                                    0.164878       0.276749 -0.186391   
         Shoplifting                                0.190411       0.463775 -0.326067   
         Theft from the person                     -0.472994      -0.527865  0.096519   
         Vehicle crime                             -0.687867      -0.333636  0.449031   
         Violence and sexual offences               0.817012       0.289333 -0.394611   
         
         Crime type                    Criminal damage and arson     Drugs  \textbackslash{}
         Crime type                                                          
         Anti-social behaviour                          0.891696 -0.171621   
         Bicycle theft                                  0.624710  0.107058   
         Burglary                                      -0.437462  0.112229   
         Criminal damage and arson                      1.000000  0.031076   
         Drugs                                          0.031076  1.000000   
         Other crime                                    0.327298  0.107786   
         Other theft                                    0.362878 -0.406453   
         Possession of weapons                          0.597933 -0.141277   
         Public order                                   0.437968 -0.307126   
         Robbery                                        0.130549 -0.146316   
         Shoplifting                                    0.108549  0.458527   
         Theft from the person                         -0.575198  0.292001   
         Vehicle crime                                 -0.527493  0.561364   
         Violence and sexual offences                   0.740045 -0.282991   
         
         Crime type                    Other crime  Other theft  Possession of weapons  \textbackslash{}
         Crime type                                                                      
         Anti-social behaviour            0.177150     0.454125               0.611439   
         Bicycle theft                    0.201760     0.311338               0.540316   
         Burglary                         0.164234    -0.054854              -0.562442   
         Criminal damage and arson        0.327298     0.362878               0.597933   
         Drugs                            0.107786    -0.406453              -0.141277   
         Other crime                      1.000000     0.134346               0.282873   
         Other theft                      0.134346     1.000000               0.203145   
         Possession of weapons            0.282873     0.203145               1.000000   
         Public order                     0.700746     0.381119               0.552583   
         Robbery                         -0.234718    -0.096394               0.140516   
         Shoplifting                      0.285462     0.279448               0.280023   
         Theft from the person           -0.282556    -0.170646              -0.472374   
         Vehicle crime                   -0.259062    -0.597920              -0.328631   
         Violence and sexual offences     0.332807     0.407261               0.644527   
         
         Crime type                    Public order   Robbery  Shoplifting  \textbackslash{}
         Crime type                                                          
         Anti-social behaviour             0.374159  0.164878     0.190411   
         Bicycle theft                     0.205160  0.276749     0.463775   
         Burglary                          0.008333 -0.186391    -0.326067   
         Criminal damage and arson         0.437968  0.130549     0.108549   
         Drugs                            -0.307126 -0.146316     0.458527   
         Other crime                       0.700746 -0.234718     0.285462   
         Other theft                       0.381119 -0.096394     0.279448   
         Possession of weapons             0.552583  0.140516     0.280023   
         Public order                      1.000000  0.288855     0.176711   
         Robbery                           0.288855  1.000000    -0.027205   
         Shoplifting                       0.176711 -0.027205     1.000000   
         Theft from the person            -0.550579 -0.564146     0.215872   
         Vehicle crime                    -0.532474 -0.119956     0.011282   
         Violence and sexual offences      0.499928 -0.151520    -0.005729   
         
         Crime type                    Theft from the person  Vehicle crime  \textbackslash{}
         Crime type                                                           
         Anti-social behaviour                     -0.472994      -0.687867   
         Bicycle theft                             -0.527865      -0.333636   
         Burglary                                   0.096519       0.449031   
         Criminal damage and arson                 -0.575198      -0.527493   
         Drugs                                      0.292001       0.561364   
         Other crime                               -0.282556      -0.259062   
         Other theft                               -0.170646      -0.597920   
         Possession of weapons                     -0.472374      -0.328631   
         Public order                              -0.550579      -0.532474   
         Robbery                                   -0.564146      -0.119956   
         Shoplifting                                0.215872       0.011282   
         Theft from the person                      1.000000       0.380251   
         Vehicle crime                              0.380251       1.000000   
         Violence and sexual offences              -0.330628      -0.611445   
         
         Crime type                    Violence and sexual offences  
         Crime type                                                  
         Anti-social behaviour                             0.817012  
         Bicycle theft                                     0.289333  
         Burglary                                         -0.394611  
         Criminal damage and arson                         0.740045  
         Drugs                                            -0.282991  
         Other crime                                       0.332807  
         Other theft                                       0.407261  
         Possession of weapons                             0.644527  
         Public order                                      0.499928  
         Robbery                                          -0.151520  
         Shoplifting                                      -0.005729  
         Theft from the person                            -0.330628  
         Vehicle crime                                    -0.611445  
         Violence and sexual offences                      1.000000  
\end{Verbatim}
            
     Criminal damage and arson and violence and sexual offences frequencies
are most positively correlated to anti social behaviour frequency.
Vehicle crime and burglary frequencies are the most negatively
correlated to anti social behaviour frequency. I'm going to draw the
graphs of each to compare their monthly prevelance with anti social
behaviour. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Anti social behaviour 2016\PYZhy{}17 normalized}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Anti\PYZhy{}social behaviour}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Normalized Distribution}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Criminal damage and arson 2016\PYZhy{}17 normalized}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Criminal damage and arson}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Normalized Distribution}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Violence and sexual offences 2016\PYZhy{}17 normalized}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Violence and sexual offences}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Normalized Distribution}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Vehicle crime 2016\PYZhy{}17 normalized}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Vehicle crime}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Normalized Distribution}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Burglary 2016\PYZhy{}17 normalized}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Burglary}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Normalized Distribution}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{wspace}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{hspace}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_69_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     Positive correlation crimes:

Criminal damage and arson: February to March considerable rise.

Violence and sexual offences: peak in May and fell in September.
September to October rise.

All three are least prevelant in winter months.

 Negative correlation crimes:

Vehicle crime: Fall January to August, least prevelant in August.
Considerable rise from August to peak in November, falls after December.

Burglary: Peak in February fall to least prevelant in June, rise in
July. Rise September to November.

I'm going to compare the most correlated and least correlated by
overlapping the ASB frequency.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}38}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Anti\PYZhy{}social behaviour}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Criminal damage and arson}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Normalized Distribution}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ASB and Criminal damage and arson}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Anti\PYZhy{}social behaviour}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}pivot\PYZus{}hm\PYZus{}normalised}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Vehicle crime}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Normalized Distribution}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ASB and Vehicle Crime Frequency}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}38}]:} Text(0.5,1,'ASB and Vehicle Crime Frequency')
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_71_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     The frequency of ASB and criminal damage and arson are visually similar
in their frequency. ASB and Vehicle Crime do have an opposite trend in
the months April-June. There is a rise from september to November while
ASB has a decrease in that period. 

     I have found that some types of crimes are more prevelant in times of
the year. Speculating, a crime such as vehicle crime could be because of
shorter days in the winter months and therefore more cover of darkness
to commit the crime. The rise of crimes such as ASB could be because of
more outdoor activity in the summer. To investigate this further, I am
going load in meteorological data from the Met Office (
https://www.metoffice.gov.uk/climate/uk/summaries/datasets). I am going
to use average sunshine per month and compare it with the number of
crimes. `In 2003, the sunshine duration was finally defined as the
period during which direct solar irradiance exceeds a threshold value of
120 W/m. When the intensity exceeds a pre-determined threshold, the
tape burns. The total length of the burn trace is proportional to the
number of bright hours.' 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}39}]:} \PY{n}{monthly\PYZus{}sunshine} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/MetOffice/Northern\PYZus{}Ireland\PYZus{}Sunshine.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years} \PY{o}{=} \PY{n}{monthly\PYZus{}sunshine}\PY{p}{[}\PY{p}{(}\PY{n}{monthly\PYZus{}sunshine}\PY{o}{.}\PY{n}{Year} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{2015}\PY{p}{)}\PY{p}{]}
         \PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}39}]:}     Year   JAN   FEB    MAR    APR    MAY    JUN    JUL    AUG    SEP    OCT  \textbackslash{}
         86  2015  58.7  63.3  133.9  206.9  151.0  178.0  113.1  134.4  130.4  100.5   
         87  2016  34.3  71.6  113.7  149.8  218.1  130.4  108.7  128.8   94.8   89.2   
         88  2017  46.9  46.2  119.2  103.9  253.5  115.5  168.6  125.8  107.3   54.1   
         89  2018  46.3  91.6   90.4  131.0  224.7  238.1  173.4  105.0   98.6    NaN   
         
              NOV   DEC    WIN    SPR    SUM    AUT     ANN  
         86  37.8  30.5    166  491.9  425.4  268.7  1338.5  
         87  76.0  39.1  136.4  481.6  367.9  260.0  1254.5  
         88  58.8  33.3  132.2  476.6  409.9  220.1  1233.1  
         89   NaN   NaN  171.3  446.1  516.5    NaN     NaN  
\end{Verbatim}
            
     Let's remove the season columns as this will be an analysis of
frequency per month vs sunshine 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}40}]:} \PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years} \PY{o}{=} \PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WIN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SPR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SUM}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AUT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ANN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}  \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}41}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2018}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2015}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Months}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average sunshine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average sunshine per month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2017}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2016}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2015}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}41}]:} <matplotlib.legend.Legend at 0x200b4cfe710>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_77_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     The spring and summer months have the most sunshine, while the autumn
and winter have the least. This will provide a way to see if there is an
influence of seasonal changes. I'm going to plot 2016 vs 2017 sunshine
and crime frequency to see if there is any trend. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}42}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{ax} \PY{o}{=} \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{orange}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax2} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{twinx}\PY{p}{(}\PY{p}{)}
         
         \PY{n}{yvals2016} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{counts}
         
         \PY{n}{ax2}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xticks}\PY{o}{=}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{yvals2016}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax2}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Months}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average sunshine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of crimes}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average sunshine vs Number of crimes per month in 2016}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sunshine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{ax2}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{bbox\PYZus{}to\PYZus{}anchor}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mf}{0.9}\PY{p}{)}\PY{p}{,} \PY{n}{loc}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{upper right}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}
         \PY{n}{ax} \PY{o}{=} \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{orange}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax2} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{twinx}\PY{p}{(}\PY{p}{)}
         
         \PY{n}{yvals2016} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{counts}
         
         \PY{n}{ax2}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xticks}\PY{o}{=}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{yvals2016}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax2}\PY{p}{)}
         
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Months}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average sunshine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of crimes}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sunshine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{ax2}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{bbox\PYZus{}to\PYZus{}anchor}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mf}{0.9}\PY{p}{)}\PY{p}{,} \PY{n}{loc}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{upper right}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average sunshine per month vs Number of crimes per month in 2017}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}42}]:} Text(0.5,1,'Average sunshine per month vs Number of crimes per month in 2017')
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_79_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     2016: The rise in sunshine in May appear to correlate to a rise in
crime. The rise of sunshine in August and fall in September also
correlate. However, the rise in crime in October does not appear to
correlate to sunshine.

2017: The rise in sunshine in February to March correlates to a rise in
crime. The peak of crimes in May and peak sunshine in May correlate. The
period from July to September see a fall in both crime and sunshine.

Let's get a statistical figure for the correlation between monthly
sunshine and monthly crime.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}43}]:} \PY{c+c1}{\PYZsh{}corr\PYZus{}sunshine\PYZus{}month\PYZus{}2016\PYZus{}2017 = monthly\PYZus{}sunshine\PYZus{}2016\PYZus{}2017.merge(psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year)}
         
         \PY{n}{corr\PYZus{}sunshine\PYZus{}month\PYZus{}4\PYZus{}years} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sunshine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{months} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JAN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FEB}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MAR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{APR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MAY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JUN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JUL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AUG}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SEP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{OCT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NOV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DEC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{crimes\PYZus{}month\PYZus{}year\PYZus{}4\PYZus{}years} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{2015}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         \PY{k}{for} \PY{n}{index}\PY{p}{,}\PY{n}{row} \PY{o+ow}{in} \PY{n}{crimes\PYZus{}month\PYZus{}year\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{counts} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{month} \PY{o}{=} \PY{n}{months}\PY{p}{[}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
             \PY{n}{sunshine} \PY{o}{=} \PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{monthly\PYZus{}sunshine\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{n}{month}\PY{p}{]}
             \PY{n}{corr\PYZus{}sunshine\PYZus{}month\PYZus{}4\PYZus{}years} \PY{o}{=} \PY{n}{corr\PYZus{}sunshine\PYZus{}month\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{counts}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sunshine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{sunshine}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
         
         \PY{n}{corr\PYZus{}sunshine\PYZus{}month\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}43}]:}     counts  sunshine
         0  11837.0      34.3
         1  11458.0      46.9
         2  11585.0      46.3
         3  12031.0      71.6
         4  11830.0      46.2
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{n}{corr\PYZus{}sunshine\PYZus{}month\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}44}]:}             counts  sunshine
         counts    1.000000  0.568879
         sunshine  0.568879  1.000000
\end{Verbatim}
            
     There is a moderate positive linear relationship between average
monthly sunshine and the number of crimes per month. I'm going to take a
look at another meteorological reading to see if there is stronger
correlation. Some crimes could be caused by people being more outside
whenever there is hot weather. Let's load in the mean temperature for
each month, once again from the met office. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}45}]:} \PY{n}{mean\PYZus{}monthly\PYZus{}temp} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/MetOffice/Northern\PYZus{}Ireland\PYZus{}Mean\PYZus{}Temp.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years} \PY{o}{=} \PY{n}{mean\PYZus{}monthly\PYZus{}temp}\PY{p}{[}\PY{p}{(}\PY{n}{mean\PYZus{}monthly\PYZus{}temp}\PY{o}{.}\PY{n}{Year} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{2015}\PY{p}{)}\PY{p}{]}
         \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}45}]:}      Year  JAN  FEB  MAR  APR   MAY   JUN   JUL   AUG   SEP   OCT  NOV  DEC  \textbackslash{}
         105  2015  3.7  3.9  5.6  7.7   9.1  12.3  13.3  13.6  11.8   9.8  7.9  6.9   
         106  2016  5.0  4.0  6.0  6.3  11.2  14.2  14.6  15.0  13.6  10.0  5.1  6.4   
         107  2017  5.2  5.3  7.2  8.2  12.1  13.8  14.4  13.9  11.9  10.8  5.8  4.7   
         108  2018  3.9  2.9  3.9  7.9  11.8  14.9  15.8  14.4  11.5   9.2  NaN  NaN   
         
               WIN   SPR    SUM   AUT   ANN  
         105  4.05  7.46  13.09  9.85  8.83  
         106  5.35  7.87  14.61  9.57  9.32  
         107  5.64  9.17  14.05  9.53  9.47  
         108  3.88  7.89  15.02   NaN   NaN  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}46}]:} \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years} \PY{o}{=} \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WIN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SPR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SUM}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AUT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ANN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}  \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2018}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2015}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Months}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average temperature per month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2017}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2016}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2015}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}47}]:} <matplotlib.legend.Legend at 0x200b4348c18>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_86_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     The summer months have the highest temperature celsius, while the
spring and winter have the lowest temperature celsius. Like with
sunshine, let's plot the frequency of crime in 2016 and 2017 months with
the monthly temperature. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}48}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{ax} \PY{o}{=} \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{orange}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax2} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{twinx}\PY{p}{(}\PY{p}{)}
         
         \PY{n}{yvals2016} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{counts}
         
         \PY{n}{ax2}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xticks}\PY{o}{=}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{yvals2016}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax2}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Months}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of crimes}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average temperature vs Number of crimes per month in 2016}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{ax2}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{bbox\PYZus{}to\PYZus{}anchor}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mf}{0.9}\PY{p}{)}\PY{p}{,} \PY{n}{loc}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{upper right}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}
         \PY{n}{ax} \PY{o}{=} \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{orange}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax2} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{twinx}\PY{p}{(}\PY{p}{)}
         
         \PY{n}{yvals2016} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{counts}
         
         \PY{n}{ax2}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xticks}\PY{o}{=}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{yvals2016}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax2}\PY{p}{)}
         
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Months}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of crimes}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{ax2}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{bbox\PYZus{}to\PYZus{}anchor}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mf}{0.9}\PY{p}{)}\PY{p}{,} \PY{n}{loc}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{upper right}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average temperature per month vs Number of crimes per month in 2017}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}48}]:} Text(0.5,1,'Average temperature per month vs Number of crimes per month in 2017')
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_88_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     2016: There is a slight rise in temperature correlating to the rise in
crime in march, although the sharp drop from march to april is a slight
rise in temperature. The peak of crimes in October does not correlate to
the temperature, which peaks in August - although august does have a
high frequency of crime.

2017: The peak of crimes in May does correlate to the rise of
temperature - the trend of temperature rising in the early months of the
year and rise in crimes does seem apparent. The fall crime after October
does seem to correlate to the sharp decrease in temperature.

Let's get a statistical figure for the correlation between monthly
temperature and monthly crime. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}49}]:} \PY{n}{corr\PYZus{}temperature\PYZus{}4\PYZus{}years} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{months} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JAN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FEB}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MAR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{APR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MAY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JUN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JUL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AUG}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SEP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{OCT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NOV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DEC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{crimes\PYZus{}month\PYZus{}year\PYZus{}4\PYZus{}years} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{2015}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         \PY{k}{for} \PY{n}{index}\PY{p}{,}\PY{n}{row} \PY{o+ow}{in} \PY{n}{crimes\PYZus{}month\PYZus{}year\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{counts} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{month} \PY{o}{=} \PY{n}{months}\PY{p}{[}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
             \PY{n}{temperature} \PY{o}{=} \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{n}{month}\PY{p}{]}
             \PY{n}{corr\PYZus{}temperature\PYZus{}4\PYZus{}years} \PY{o}{=} \PY{n}{corr\PYZus{}temperature\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{counts}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{temperature}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
         \PY{n}{corr\PYZus{}temperature\PYZus{}4\PYZus{}years}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}49}]:}                counts  temperature
         counts       1.000000     0.787959
         temperature  0.787959     1.000000
\end{Verbatim}
            
     There is a strong correlation between month by month mean temperature
and crime counts. Let's look at the correlation between mean monthly
temperature and different crime types 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}50}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}50}]:}    Month                 Crime type  counts
         0      1      Anti-social behaviour    8366
         1      1              Bicycle theft      87
         2      1                   Burglary    1228
         3      1  Criminal damage and arson    2781
         4      1                      Drugs     890
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}51}]:} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}month\PYZus{}year} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{k+kc}{None}
         
         \PY{n}{months} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JAN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FEB}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MAR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{APR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MAY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JUN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JUL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AUG}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SEP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{OCT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NOV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DEC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{k}{for} \PY{n}{index}\PY{p}{,}\PY{n}{row} \PY{o+ow}{in} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{month} \PY{o}{=} \PY{n}{months}\PY{p}{[}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
             \PY{n}{temperature} \PY{o}{=} \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{n}{month}\PY{p}{]}
             \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{at}\PY{p}{[}\PY{n}{index}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{temperature}
         
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{)}
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}month\PYZus{}year} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}52}]:} \PY{n}{unique\PYZus{}crimes} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
         \PY{n}{correlation\PYZus{}crime\PYZus{}type} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Correlation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{k}{for} \PY{n}{crime} \PY{o+ow}{in} \PY{n}{unique\PYZus{}crimes}\PY{p}{:}
             \PY{n}{crime\PYZus{}type\PYZus{}counts} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{crime}\PY{p}{]}
             \PY{n}{crime\PYZus{}type\PYZus{}counts} \PY{o}{=} \PY{n}{crime\PYZus{}type\PYZus{}counts}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
             \PY{n}{correlation} \PY{o}{=} \PY{n}{crime\PYZus{}type\PYZus{}counts}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}
             \PY{n}{correlation\PYZus{}crime\PYZus{}type} \PY{o}{=} \PY{n}{correlation\PYZus{}crime\PYZus{}type}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{crime}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Correlation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{correlation}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
             
         \PY{n}{correlation\PYZus{}crime\PYZus{}type}\PY{o}{.}\PY{n}{nlargest}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Correlation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}52}]:}                       Crime type  Correlation
         0          Anti-social behaviour     0.841309
         1                  Bicycle theft     0.707521
         3      Criminal damage and arson     0.667986
         12  Violence and sexual offences     0.566930
         6          Possession of weapons     0.314003
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}53}]:} \PY{n}{correlation\PYZus{}crime\PYZus{}type}\PY{o}{.}\PY{n}{nsmallest}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Correlation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}53}]:}                Crime type  Correlation
         4                   Drugs    -0.311053
         2                Burglary    -0.098479
         10  Theft from the person    -0.070984
         13            Other crime    -0.018694
         11          Vehicle crime    -0.002031
\end{Verbatim}
            
    Monthly Anti-social behaviour counts have the strongest positive
correlation to mean monthly temprature. Drugs has the strongest negative
correlation to monthly temperature. I will visualise anti-social
behaviour counts to mean monthly temperature to verify this:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}54}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
         \PY{n}{anti\PYZus{}social\PYZus{}crime} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Anti\PYZhy{}social behaviour}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{anti\PYZus{}social\PYZus{}crime}\PY{o}{.}\PY{n}{Temperature}\PY{p}{,} \PY{n}{anti\PYZus{}social\PYZus{}crime}\PY{o}{.}\PY{n}{counts}\PY{p}{)}
         
         \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}grouped\PYZus{}crime\PYZus{}type} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} numpyArrayX = anti\PYZus{}social\PYZus{}crime.Temperature.values}
         \PY{c+c1}{\PYZsh{} numpyArrayY = anti\PYZus{}social\PYZus{}crime.counts.values}
         \PY{c+c1}{\PYZsh{} sb.regplot(anti\PYZus{}social\PYZus{}crime.counts,anti\PYZus{}social\PYZus{}crime.Temperature);}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Anti social behaviour vs temperature}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average temperature per month (celsius)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of crimes per month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}54}]:} Text(0,0.5,'Number of crimes per month')
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_97_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     There is a positive trend between ASB and temperature. Let's use a
linear regression model to better visualise this. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}55}]:} \PY{n}{x} \PY{o}{=} \PY{n}{anti\PYZus{}social\PYZus{}crime}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
         \PY{n}{y} \PY{o}{=} \PY{n}{anti\PYZus{}social\PYZus{}crime}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{n}{x\PYZus{}train}\PY{p}{,} \PY{n}{x\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}test} \PY{o}{=} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{(}\PY{n}{x}\PY{p}{,} \PY{n}{y}\PY{p}{,} \PY{n}{test\PYZus{}size}\PY{o}{=}\PY{l+m+mf}{0.4}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
         
         \PY{n+nb}{print}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{x\PYZus{}train}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{y\PYZus{}train}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{x\PYZus{}test}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
20
20
14
14

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}56}]:} \PY{n}{regressor} \PY{o}{=} \PY{n}{LinearRegression}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}57}]:} \PY{n}{result} \PY{o}{=} \PY{n}{regressor}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{x\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}58}]:} \PY{n}{y\PYZus{}pred} \PY{o}{=} \PY{n}{regressor}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{x\PYZus{}test}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}59}]:} \PY{k}{def} \PY{n+nf}{mean\PYZus{}absolute\PYZus{}percentage\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}true}\PY{p}{,} \PY{n}{y\PYZus{}pred}\PY{p}{)}\PY{p}{:} 
             \PY{n}{y\PYZus{}true}\PY{p}{,} \PY{n}{y\PYZus{}pred} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{n}{y\PYZus{}true}\PY{p}{)}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{p}{)}
             \PY{k}{return} \PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{p}{(}\PY{n}{y\PYZus{}true} \PY{o}{\PYZhy{}} \PY{n}{y\PYZus{}pred}\PY{p}{)} \PY{o}{/} \PY{n}{y\PYZus{}true}\PY{p}{)}\PY{p}{)} \PY{o}{*} \PY{l+m+mi}{100}
         
         \PY{k}{def} \PY{n+nf}{min\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}true}\PY{p}{,} \PY{n}{y\PYZus{}pred}\PY{p}{)}\PY{p}{:}
             \PY{n}{maxdiff} \PY{o}{=} \PY{l+m+mi}{0}
             \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{y\PYZus{}true}\PY{p}{,} \PY{n}{y\PYZus{}pred}\PY{p}{)}\PY{p}{:}
                 \PY{n}{difference} \PY{o}{=} \PY{n}{i} \PY{o}{\PYZhy{}} \PY{n}{j}
                 \PY{k}{if} \PY{p}{(}\PY{n}{difference} \PY{o}{\PYZgt{}} \PY{n}{maxdiff}\PY{p}{)}\PY{p}{:}
                     \PY{n}{maxdiff} \PY{o}{=} \PY{n}{difference}
             \PY{k}{return} \PY{n}{maxdiff}
         
         \PY{k}{def} \PY{n+nf}{max\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}true}\PY{p}{,} \PY{n}{y\PYZus{}pred}\PY{p}{)}\PY{p}{:}
             \PY{n}{maxdiff} \PY{o}{=} \PY{l+m+mi}{0}
             \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{y\PYZus{}true}\PY{p}{,} \PY{n}{y\PYZus{}pred}\PY{p}{)}\PY{p}{:}
                 \PY{n}{difference} \PY{o}{=} \PY{n}{j} \PY{o}{\PYZhy{}} \PY{n}{i}
                 \PY{k}{if} \PY{p}{(}\PY{n}{difference} \PY{o}{\PYZgt{}} \PY{n}{maxdiff}\PY{p}{)}\PY{p}{:}
                     \PY{n}{maxdiff} \PY{o}{=} \PY{n}{difference}
             \PY{k}{return} \PY{n}{maxdiff}
         
         
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Coefficients: }\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{regressor}\PY{o}{.}\PY{n}{coef\PYZus{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Intercept: }\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{regressor}\PY{o}{.}\PY{n}{intercept\PYZus{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Mean Absolute Percentage Error: }\PY{l+s+si}{\PYZpc{}.2f}\PY{l+s+s1}{\PYZsq{}} \PY{o}{\PYZpc{}} \PY{n}{mean\PYZus{}absolute\PYZus{}percentage\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}pred}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Mean Absolute Error: }\PY{l+s+si}{\PYZpc{}.2f}\PY{l+s+s1}{\PYZsq{}} \PY{o}{\PYZpc{}} \PY{n}{mean\PYZus{}absolute\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}pred}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Max Overforecasting Error: }\PY{l+s+si}{\PYZpc{}.2f}\PY{l+s+s1}{\PYZsq{}} \PY{o}{\PYZpc{}} \PY{n}{max\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}pred}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Max Underforecasting Error: }\PY{l+s+si}{\PYZpc{}.2f}\PY{l+s+s1}{\PYZsq{}} \PY{o}{\PYZpc{}} \PY{n}{min\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}pred}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Coefficients: 
 [ 160.40946196]
Intercept: 
 3549.36279509
Mean Absolute Percentage Error: 5.53
Mean Absolute Error: 292.16
Max Overforecasting Error: 384.45
Max Underforecasting Error: 1004.62

    \end{Verbatim}

     On average a 5.5\% percentage error and a mean absolute error of 292
crimes per month. The model has a big problem with underforecasting
months in which the temperature is not particularly high but the crime
total is high. The peak in October could be the reason for this. 

     Index 2 record for October

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}60}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{x\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{green}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{x\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{x\PYZus{}train}\PY{p}{,} \PY{n}{regressor}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{x\PYZus{}train}\PY{p}{)}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Anti social behaviour vs temperature w/ line of best fit}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average temperature per month (celsius)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of crimes per month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Regression}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Test}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Training}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_106_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     I'm going to investigate the outlier with over 6000 crimes and around
10 celsius temperature 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}61}]:} \PY{n}{anti\PYZus{}social\PYZus{}crime}\PY{p}{[}\PY{n}{anti\PYZus{}social\PYZus{}crime}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{l+m+mi}{6000}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}61}]:}     Month             Crime type  counts  Temperature
         2      10  Anti-social behaviour    6126          9.8
         23      7  Anti-social behaviour    6074         14.4
\end{Verbatim}
            
     October for ASB is an outlier and does not fit the model well. 

     I want to investigate anti social behaviour further and see where it is
happening using the provided data longitudinal and latitudinal data.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}62}]:} \PY{n}{anti\PYZus{}social\PYZus{}crime} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Anti\PYZhy{}social behaviour}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Has\PYZus{}Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{k+kc}{True}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
         \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled} \PY{o}{=} \PY{n}{anti\PYZus{}social\PYZus{}crime}
         \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}62}]:}    index  Longitude   Latitude        Location             Crime type  \textbackslash{}
         0      0  -7.378949  54.717334   dublin street  Anti-social behaviour   
         1      1  -5.891082  54.222501  bracken avenue  Anti-social behaviour   
         2      2  -5.667276  54.663573     high street  Anti-social behaviour   
         3      3  -5.962330  54.587243   rodney parade  Anti-social behaviour   
         4      4  -5.894063  54.590423   brenda street  Anti-social behaviour   
         
            Has\_Location  Year  Month  Week  Quarter  
         0          True  2015      8    31        3  
         1          True  2015      8    31        3  
         2          True  2015      8    31        3  
         3          True  2015      8    31        3  
         4          True  2015      8    31        3  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}63}]:} \PY{c+c1}{\PYZsh{} anti\PYZus{}social\PYZus{}crime\PYZus{}sampled.to\PYZus{}csv(\PYZsq{}anti\PYZus{}social\PYZus{}crime.csv\PYZsq{}, index=False)}
\end{Verbatim}


     I've ran a script that links the latitude and longitude of the crime to
what crime neighbourhood it took place in using the police API. This
will allow me to categorise the crimes more meaningful and focus on a
specific area in which ASB is prevelant.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}64}]:} \PY{c+c1}{\PYZsh{} anti\PYZus{}social\PYZus{}crime = pd.read\PYZus{}csv(\PYZsq{}anti\PYZus{}social\PYZus{}crime.csv\PYZsq{})}
         \PY{c+c1}{\PYZsh{} for index, row in anti\PYZus{}social\PYZus{}crime.iterrows():}
         \PY{c+c1}{\PYZsh{}         longitude = row[\PYZsq{}Longitude\PYZsq{}]}
         \PY{c+c1}{\PYZsh{}         latitude = row[\PYZsq{}Latitude\PYZsq{}]}
         \PY{c+c1}{\PYZsh{}         url = f\PYZsq{}https://data.police.uk/api/locate\PYZhy{}neighbourhood?q=\PYZob{}latitude\PYZcb{},\PYZob{}longitude\PYZcb{}\PYZsq{}}
         \PY{c+c1}{\PYZsh{}         response = requests.get(url)}
         \PY{c+c1}{\PYZsh{}         neighbourhood = response.json()[\PYZsq{}neighbourhood\PYZsq{}]}
         \PY{c+c1}{\PYZsh{}         anti\PYZus{}social\PYZus{}crime.at[index, \PYZsq{}Neighbourhood\PYZsq{}] = neighbourhood}
         \PY{c+c1}{\PYZsh{}         if (index \PYZpc{} 1000 == 0):}
         \PY{c+c1}{\PYZsh{}             print(\PYZsq{}Here\PYZsq{})}
         \PY{c+c1}{\PYZsh{}             anti\PYZus{}social\PYZus{}crime.to\PYZus{}csv(\PYZsq{}anti\PYZus{}social\PYZus{}crime.csv\PYZsq{}, index=False)}
         
         \PY{c+c1}{\PYZsh{} anti\PYZus{}social\PYZus{}crime = pd.read\PYZus{}csv(\PYZsq{}anti\PYZus{}social\PYZus{}crime.csv\PYZsq{})}
         
         \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{anti\PYZus{}social\PYZus{}crime.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}64}]:}    index  Longitude   Latitude        Location             Crime type  \textbackslash{}
         0      0  -7.378949  54.717334   dublin street  Anti-social behaviour   
         1      1  -5.891082  54.222501  bracken avenue  Anti-social behaviour   
         2      2  -5.667276  54.663573     high street  Anti-social behaviour   
         3      3  -5.962330  54.587243   rodney parade  Anti-social behaviour   
         4      4  -5.894063  54.590423   brenda street  Anti-social behaviour   
         
            Has\_Location  Year  Month  Week  Quarter Neighbourhood  
         0          True  2015      8    31        3      Strabane  
         1          True  2015      8    31        3   Downpatrick  
         2          True  2015      8    31        3   Newtownards  
         3          True  2015      8    31        3    Woodbourne  
         4          True  2015      8    31        3    Strandtown  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}65}]:} \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{o}{.}\PY{n}{dtypes}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}65}]:} index              int64
         Longitude        float64
         Latitude         float64
         Location          object
         Crime type        object
         Has\_Location        bool
         Year               int64
         Month              int64
         Week               int64
         Quarter            int64
         Neighbourhood     object
         dtype: object
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}66}]:} \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 170910 entries, 0 to 170909
Data columns (total 11 columns):
index            170910 non-null int64
Longitude        170910 non-null float64
Latitude         170910 non-null float64
Location         147430 non-null object
Crime type       170910 non-null object
Has\_Location     170910 non-null bool
Year             170910 non-null int64
Month            170910 non-null int64
Week             170910 non-null int64
Quarter          170910 non-null int64
Neighbourhood    170898 non-null object
dtypes: bool(1), float64(2), int64(5), object(3)
memory usage: 13.2+ MB

    \end{Verbatim}

     There are a few longitude and latitude inputs that did not provide a
neighbhourhood upon the API call. I will drop these as they are minimal
(0.007\% of the dataset) 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}67}]:} \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled} \PY{o}{=} \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighbourhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{p}{]}
\end{Verbatim}


     Neighbourhoods are part of policing districts. I manually mapped these
using the information found in
https://www.psni.police.uk/my-area/all-districts/ 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}68}]:} \PY{n}{neighbourhood\PYZus{}district} \PY{o}{=} \PY{p}{\PYZob{}}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Newtownabbey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Antrim and Newtownabbey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Antrim}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Antrim and Newtownabbey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Newtownards}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ards and North Down}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Armagh}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Armagh City, Banbridge and Craigavon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lurgan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Armagh City, Banbridge and Craigavon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lisburn Road}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Belfast City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Strandtown}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Belfast City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tennent Street}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Belfast City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Woodbourne}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Belfast City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Coleraine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Causeway Coast and Glens}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Limavady}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Causeway Coast and Glens}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Strabane}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Derry City \PYZam{} Strabane}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Strand Road}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Derry City \PYZam{} Strabane}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Enniskillen}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Fermanagh and Omagh}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lisnaskea}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Fermanagh and Omagh}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Omagh}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Fermanagh and Omagh}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lisburn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lisburn and Castlereagh}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Castlereagh}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lisburn and Castlereagh}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ballymena}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Mid and East Antrim}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Larne}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Mid and East Antrim}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dungannon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Mid Ulster}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Magherafelt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Mid Ulster}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crossmaglen}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Newry, Mourne and Down}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Downpatrick}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Newry, Mourne and Down}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Newry}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Newry, Mourne and Down}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Newtownhamilton}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Newry, Mourne and Down}\PY{l+s+s1}{\PYZsq{}}
         \PY{p}{\PYZcb{}}
         
         \PY{k}{def} \PY{n+nf}{map\PYZus{}neighbourhood\PYZus{}district}\PY{p}{(}\PY{n}{row}\PY{p}{)}\PY{p}{:}
             \PY{n}{neighbourhood} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighbourhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{district} \PY{o}{=} \PY{n}{neighbourhood\PYZus{}district}\PY{p}{[}\PY{n}{neighbourhood}\PY{p}{]}
             \PY{k}{return} \PY{n}{district}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}69}]:} \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Policing\PYZus{}District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{row}\PY{p}{:} \PY{n}{map\PYZus{}neighbourhood\PYZus{}district} \PY{p}{(}\PY{n}{row}\PY{p}{)}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}70}]:} \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}70}]:}    index  Longitude   Latitude        Location             Crime type  \textbackslash{}
         0      0  -7.378949  54.717334   dublin street  Anti-social behaviour   
         1      1  -5.891082  54.222501  bracken avenue  Anti-social behaviour   
         2      2  -5.667276  54.663573     high street  Anti-social behaviour   
         3      3  -5.962330  54.587243   rodney parade  Anti-social behaviour   
         4      4  -5.894063  54.590423   brenda street  Anti-social behaviour   
         
            Has\_Location  Year  Month  Week  Quarter Neighbourhood  \textbackslash{}
         0          True  2015      8    31        3      Strabane   
         1          True  2015      8    31        3   Downpatrick   
         2          True  2015      8    31        3   Newtownards   
         3          True  2015      8    31        3    Woodbourne   
         4          True  2015      8    31        3    Strandtown   
         
                 Policing\_District  
         0   Derry City \& Strabane  
         1  Newry, Mourne and Down  
         2     Ards and North Down  
         3            Belfast City  
         4            Belfast City  
\end{Verbatim}
            
     Using the Police API I was able to get the population for the policing
neighbhourhoods 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}71}]:} \PY{c+c1}{\PYZsh{} \PYZsh{} neighbourhood\PYZus{}population = pd.DataFrame(columns=[\PYZsq{}Neighbourhood\PYZsq{}, \PYZsq{}Population\PYZsq{}])}
         
         \PY{c+c1}{\PYZsh{} \PYZsh{} for key in neighbourhood\PYZus{}district:}
         \PY{c+c1}{\PYZsh{} \PYZsh{}     url = f\PYZsq{}https://data.police.uk/api/northern\PYZhy{}ireland/\PYZob{}key\PYZcb{}\PYZsq{}}
         \PY{c+c1}{\PYZsh{} \PYZsh{}     response = requests.get(url)}
         \PY{c+c1}{\PYZsh{} \PYZsh{}     population = response.json()[\PYZsq{}population\PYZsq{}]}
         \PY{c+c1}{\PYZsh{} \PYZsh{}     neighbourhood\PYZus{}population = neighbourhood\PYZus{}population.append(\PYZob{}\PYZsq{}Neighbourhood\PYZsq{}: key, \PYZsq{}Population\PYZsq{}: population\PYZcb{}, ignore\PYZus{}index=True)}
         \PY{n}{neighbourhood\PYZus{}population} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood\PYZus{}population.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{c+c1}{\PYZsh{} \PYZsh{} neighbourhood\PYZus{}population.to\PYZus{}csv(\PYZsq{}neighbourhood\PYZus{}population.csv\PYZsq{},index=False)}
\end{Verbatim}


     I'm going to group the crimes by neighbhourhood to see where ASB is
most prevelant by population 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}72}]:} \PY{n}{grouped\PYZus{}asb\PYZus{}neighbourhood} \PY{o}{=} \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighbourhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{c+c1}{\PYZsh{} grouped\PYZus{}asb\PYZus{}neighbourhood}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}73}]:} \PY{n}{grouped\PYZus{}asb\PYZus{}neighbourhood} \PY{o}{=} \PY{n}{grouped\PYZus{}asb\PYZus{}neighbourhood}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{neighbourhood\PYZus{}population}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighbourhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{k}{def} \PY{n+nf}{crime\PYZus{}per\PYZus{}population}\PY{p}{(}\PY{n}{row}\PY{p}{)}\PY{p}{:}
             \PY{n}{population} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{asb\PYZus{}count} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{k}{return} \PY{n}{asb\PYZus{}count}\PY{o}{/}\PY{n}{population}
         \PY{n}{grouped\PYZus{}asb\PYZus{}neighbourhood}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ASB\PYZus{}per\PYZus{}population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{grouped\PYZus{}asb\PYZus{}neighbourhood}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{row}\PY{p}{:} \PY{n}{crime\PYZus{}per\PYZus{}population}\PY{p}{(}\PY{n}{row}\PY{p}{)}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}74}]:} \PY{n}{grouped\PYZus{}asb\PYZus{}neighbourhood}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ASB\PYZus{}per\PYZus{}population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{ascending}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{30}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}74}]:}       Neighbourhood  count  Population  ASB\_per\_population
         12     Lisburn Road  18191       33859            0.537257
         24   Tennent Street  13905       55389            0.251043
         25       Woodbourne  10378       53759            0.193047
         22      Strand Road  11465       74386            0.154128
         16            Newry   6128       46596            0.131513
         23       Strandtown   9573       73175            0.130823
         0            Antrim   4785       36860            0.129816
         14           Lurgan  12308       95413            0.128997
         4         Coleraine   8022       62423            0.128510
         7         Dungannon   5817       46499            0.125099
         6       Downpatrick   6491       52145            0.124480
         18      Newtownards  14258      115884            0.123037
         17     Newtownabbey   6942       58666            0.118331
         9             Larne   5859       50767            0.115410
         2         Ballymena   5434       47550            0.114280
         11          Lisburn   7389       66780            0.110647
         8       Enniskillen   3709       35173            0.105450
         1            Armagh   4984       50312            0.099062
         10         Limavady   3159       35725            0.088425
         20            Omagh   3137       37332            0.084030
         21         Strabane   2446       29835            0.081984
         3       Castlereagh   2168       30848            0.070280
         19  Newtownhamilton   1054       20317            0.051878
         15      Magherafelt   2616       51013            0.051281
         13        Lisnaskea    624       12345            0.050547
         5       Crossmaglen     56        2774            0.020187
\end{Verbatim}
            
     There's clearly an uneven distribution in ASB per population in
different neighbhourhoods. Let's visualise this. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}75}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{grouped\PYZus{}asb\PYZus{}neighbourhood}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ASB\PYZus{}per\PYZus{}population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{kde}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Distribution of ASB: Neighbhourhoods}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mf}{0.6}\PY{p}{,} \PY{l+m+mf}{0.05}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of neighbourhoods}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}75}]:} Text(0,0.5,'Number of neighbourhoods')
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_130_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     Lisburn road neighbourhood is an outlier. There's a large concentration
between 0.10 and 0.15 asb crimes per population. 

     The top four neighbourhoods are in the Belfast Policing District. There
could be a link between population and ASB\_per\_population. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}76}]:} \PY{n}{grouped\PYZus{}asb\PYZus{}neighbourhood}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}76}]:}                        count  Population  ASB\_per\_population
         count               1.000000    0.679060            0.794265
         Population          0.679060    1.000000            0.139652
         ASB\_per\_population  0.794265    0.139652            1.000000
\end{Verbatim}
            
     There is a positive correlation between the number of ASB crimes being
committed and number of people living in a neighbourhood. I'm going to
compare the compare the distribution of ASB in Lisburn Road
neighbhourhoods with the other neighbhourhoods 2016-2017. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}77}]:} \PY{n}{lisburn\PYZus{}road} \PY{o}{=} \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{p}{[}\PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{o}{.}\PY{n}{Neighbourhood} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lisburn Road}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{lisburn\PYZus{}road} \PY{o}{=} \PY{n}{lisburn\PYZus{}road}\PY{p}{[}\PY{p}{(}\PY{n}{lisburn\PYZus{}road}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{lisburn\PYZus{}road}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         \PY{n}{lisburn\PYZus{}road\PYZus{}month} \PY{o}{=} \PY{n}{lisburn\PYZus{}road}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{lisburn\PYZus{}road\PYZus{}quarter} \PY{o}{=} \PY{n}{lisburn\PYZus{}road}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{11}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{lisburn\PYZus{}road\PYZus{}month}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{labels} \PY{o}{=} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PYZbs{}
                 \PY{n}{autopct}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZpc{}1.2f}\PY{l+s+si}{\PYZpc{}\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{shadow}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{startangle}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axis}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{equal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ASB occuring per month in Lisburn Road Neighbourhood}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Chart of all crimes and anti\PYZhy{}social behaviour occuring per quarter}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{lisburn\PYZus{}road\PYZus{}quarter}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{labels} \PY{o}{=} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 4}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PY{n}{autopct}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZpc{}1.1f}\PY{l+s+si}{\PYZpc{}\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{shadow}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{startangle}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axis}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{equal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ASB Occuring per quarter in Lisburn Road Neighbourhood}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{other\PYZus{}neighbhourhoods} \PY{o}{=} \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{p}{[}\PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{o}{.}\PY{n}{Neighbourhood} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lisburn Road}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{other\PYZus{}neighbhourhoods} \PY{o}{=} \PY{n}{other\PYZus{}neighbhourhoods}\PY{p}{[}\PY{p}{(}\PY{n}{other\PYZus{}neighbhourhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{other\PYZus{}neighbhourhoods}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         \PY{n}{other\PYZus{}neighbhourhoods\PYZus{}months} \PY{o}{=} \PY{n}{other\PYZus{}neighbhourhoods}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{other\PYZus{}neighbhourhoods\PYZus{}quarters} \PY{o}{=} \PY{n}{other\PYZus{}neighbhourhoods}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{other\PYZus{}neighbhourhoods\PYZus{}months}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{labels} \PY{o}{=} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PYZbs{}
                 \PY{n}{autopct}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZpc{}1.2f}\PY{l+s+si}{\PYZpc{}\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{shadow}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{startangle}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axis}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{equal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ASB occuring per month in other Neighbourhoods}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Chart of all crimes and anti\PYZhy{}social behaviour occuring per quarter}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{other\PYZus{}neighbhourhoods\PYZus{}quarters}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{labels} \PY{o}{=} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Quarter 4}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PY{n}{autopct}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZpc{}1.1f}\PY{l+s+si}{\PYZpc{}\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{shadow}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{startangle}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axis}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{equal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ASB Occuring per quarter in other Neighbourhoods}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{hspace}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{wspace}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_135_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     Lisburn Road: The highest number of ASB crimes occured in 2016-17 in
September. The summer months (Quarter 3) have high rates of ASB but in
March there is a notable rise.

Other Neighbhourhoods: The highest number of ASB crimes occured in
2016-17 in October. The summer months months (Quarter 3) have high rates
of ASB. There is no notable rise like in Lisburn Road for March and
September.

     I'm going to take a look at March and September 2016 to find out where
ASB on the Lisburn Road is happening in these peak months and if the
pattern is different in least prevelant month of November. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}78}]:} \PY{n}{m} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{l+m+mf}{54.5668}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{5.95328}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
         
         \PY{n}{lisburn\PYZus{}road\PYZus{}sampled} \PY{o}{=} \PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{p}{[}\PY{n}{anti\PYZus{}social\PYZus{}crime\PYZus{}sampled}\PY{o}{.}\PY{n}{Neighbourhood} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lisburn Road}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{lisburn\PYZus{}road\PYZus{}march\PYZus{}2016} \PY{o}{=} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{p}{(}\PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{3}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         
         \PY{n}{lisburn\PYZus{}road\PYZus{}november\PYZus{}2016} \PY{o}{=} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{p}{(}\PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{11}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         
         \PY{n}{lisburn\PYZus{}road\PYZus{}september\PYZus{}2016} \PY{o}{=} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{p}{(}\PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{9}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         
         \PY{n}{lisburn\PYZus{}road\PYZus{}september\PYZus{}2017} \PY{o}{=} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{p}{(}\PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{9}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         
         \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}march\PYZus{}2016} \PY{o}{=} \PY{p}{[}\PY{p}{]}
                                     
         \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{lisburn\PYZus{}road\PYZus{}march\PYZus{}2016}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{coords} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
             \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}march\PYZus{}2016}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n+nb}{list}\PY{p}{(}\PY{n}{coords}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}november\PYZus{}2016} \PY{o}{=} \PY{p}{[}\PY{p}{]}
         
         \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{lisburn\PYZus{}road\PYZus{}november\PYZus{}2016}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{coords} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
             \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}november\PYZus{}2016}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n+nb}{list}\PY{p}{(}\PY{n}{coords}\PY{p}{)}\PY{p}{)}
             
         \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}september\PYZus{}2016} \PY{o}{=} \PY{p}{[}\PY{p}{]}
         
         \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{lisburn\PYZus{}road\PYZus{}september\PYZus{}2016}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{coords} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
             \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}september\PYZus{}2016}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n+nb}{list}\PY{p}{(}\PY{n}{coords}\PY{p}{)}\PY{p}{)}
             
         \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}september\PYZus{}2017} \PY{o}{=} \PY{p}{[}\PY{p}{]}
         
         \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{lisburn\PYZus{}road\PYZus{}september\PYZus{}2017}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{coords} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
             \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}september\PYZus{}2017}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n+nb}{list}\PY{p}{(}\PY{n}{coords}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords} \PY{o}{=} \PY{p}{[}\PY{p}{]}
         
         \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}march\PYZus{}2016}\PY{p}{)}
         \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}september\PYZus{}2016}\PY{p}{)}
         \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}november\PYZus{}2016}\PY{p}{)}
         \PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}september\PYZus{}2017}\PY{p}{)}
         
         
         \PY{n}{HeatMapWithTime}\PY{p}{(}\PY{n}{asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords}\PY{p}{,} \PY{n}{index}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{March 2016}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{September 2016}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{November 2016}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{September 2017}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{m}\PY{p}{)}
         \PY{c+c1}{\PYZsh{}m.add\PYZus{}child(HeatMap(asb\PYZus{}lisburn\PYZus{}road\PYZus{}coords\PYZus{}november\PYZus{}2016, gradient=\PYZob{}0: \PYZsq{}blue\PYZsq{}, 0: \PYZsq{}lime\PYZsq{}, .4: \PYZsq{}red\PYZsq{}\PYZcb{}))}
         
         \PY{n}{m}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}78}]:} <folium.folium.Map at 0x200b4837a20>
\end{Verbatim}
            
     Holylands March 2016 Holylands September 2016 Holylands November 2016
Holylands September 2017 Holylands Hotspot in Google Maps 

    Longitude Latitude: 54.584584, -5.925854 

    

     I've identified the Holylands as a hotspot for ASB in March and
September. Let's find crimes that are in a 0.5km radius of the centre of
the hotspot. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}79}]:} \PY{n}{crimes\PYZus{}within\PYZus{}distance} \PY{o}{=} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
         \PY{n}{crimes\PYZus{}within\PYZus{}distance} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{0}\PY{p}{]}
         \PY{n}{area\PYZus{}coord} \PY{o}{=} \PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{54.584584}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}5.925854}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{MAX\PYZus{}DISTANCE} \PY{o}{=} \PY{l+m+mf}{0.5}
         
         \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{coords} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
             \PY{n}{d} \PY{o}{=} \PY{n}{distance}\PY{o}{.}\PY{n}{vincenty}\PY{p}{(}\PY{n}{area\PYZus{}coord}\PY{p}{,} \PY{n}{coords}\PY{p}{)}
             \PY{k}{if} \PY{p}{(}\PY{n}{d}\PY{o}{.}\PY{n}{km} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n}{MAX\PYZus{}DISTANCE}\PY{p}{)}\PY{p}{:}
                 \PY{n}{crimes\PYZus{}within\PYZus{}distance} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{row}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}80}]:} \PY{n}{crimes\PYZus{}within\PYZus{}distance}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}80}]:}              index    Longitude     Latitude         Year        Month  \textbackslash{}
         count  2888.000000  2888.000000  2888.000000  2888.000000  2888.000000   
         mean   2538.182133    -5.926044    54.584874  2016.504501     6.646468   
         std    1527.225280     0.002998     0.001621     0.925328     3.499322   
         min       2.000000    -5.933160    54.580268  2015.000000     1.000000   
         25\%    1239.000000    -5.927597    54.583979  2016.000000     3.000000   
         50\%    2449.000000    -5.925779    54.584756  2017.000000     7.000000   
         75\%    3726.250000    -5.923939    54.586200  2017.000000    10.000000   
         max    6106.000000    -5.919741    54.588481  2018.000000    12.000000   
         
                       Week      Quarter  
         count  2888.000000  2888.000000  
         mean     27.163089     2.536011  
         std      15.253795     1.160225  
         min       1.000000     1.000000  
         25\%      13.000000     1.000000  
         50\%      31.000000     3.000000  
         75\%      39.000000     4.000000  
         max      53.000000     4.000000  
\end{Verbatim}
            
     There's 2888 crimes in that hotspot. Let's get what percentage that is
of the total crimes in the Lisburn Road Neighbhourhood 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}81}]:} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}81}]:}               index     Longitude      Latitude          Year         Month  \textbackslash{}
         count  18191.000000  18191.000000  18191.000000  18191.000000  18191.000000   
         mean    2540.318949     -5.934584     54.587189   2016.518608      6.545819   
         std     1532.023971      0.013077      0.011245      0.902305      3.421495   
         min        0.000000     -5.995609     54.539587   2015.000000      1.000000   
         25\%     1244.000000     -5.936264     54.583035   2016.000000      4.000000   
         50\%     2469.000000     -5.932404     54.587985   2017.000000      7.000000   
         75\%     3750.000000     -5.927162     54.595941   2017.000000      9.000000   
         max     6120.000000     -5.910017     54.602452   2018.000000     12.000000   
         
                        Week       Quarter  
         count  18191.000000  18191.000000  
         mean      26.766643      2.503161  
         std       15.015986      1.117691  
         min        1.000000      1.000000  
         25\%       13.000000      2.000000  
         50\%       26.000000      3.000000  
         75\%       39.000000      3.000000  
         max       53.000000      4.000000  
\end{Verbatim}
            
     2888/181191 (16\%) of ASB crimes in Lisburn Road happened in this 0.5km
radius. I'm going to look at the distribution of these crimes in 2016 vs
2017 to see if there's any interesting observations I can draw from
them. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}82}]:} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped}\PY{p}{[}\PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{13}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}82}]:}     Month  Year  counts
         0       1  2016      52
         3       2  2016      71
         6       3  2016      87
         9       4  2016      72
         12      5  2016      77
         15      6  2016      76
         17      7  2016      69
         20      8  2016      44
         23      9  2016     154
         26     10  2016     116
         29     11  2016      57
         32     12  2016      72
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}83}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped}\PY{p}{[}\PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{counts}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped}\PY{p}{[}\PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{counts}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2016}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2017}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Months}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Holylands: ASB 2016 vs 2017}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}83}]:} Text(0.5,1,'Holylands: ASB 2016 vs 2017')
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_149_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     2016: September most ASB crimes, august the least. 2017: October most
asb crimes, April the least. March sees a notable rise in both years, as
well as September. I want to see if there's a different share of crimes
happening in March vs August. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}84}]:} \PY{n}{crimes\PYZus{}within\PYZus{}distance} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
         \PY{n}{crimes\PYZus{}within\PYZus{}distance} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{0}\PY{p}{]}
         
         \PY{n}{area\PYZus{}coord} \PY{o}{=} \PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{54.584584}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}5.925854}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{MAX\PYZus{}DISTANCE} \PY{o}{=} \PY{l+m+mf}{0.5}
         
         \PY{n}{not\PYZus{}asb\PYZus{}crimes} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{p}{[}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Anti\PYZhy{}social behaviour}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Has\PYZus{}Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{k+kc}{True}\PY{p}{)}\PY{p}{]}
         \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{not\PYZus{}asb\PYZus{}crimes}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{coords} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
             \PY{n}{d} \PY{o}{=} \PY{n}{distance}\PY{o}{.}\PY{n}{vincenty}\PY{p}{(}\PY{n}{area\PYZus{}coord}\PY{p}{,} \PY{n}{coords}\PY{p}{)}
             \PY{k}{if} \PY{p}{(}\PY{n}{d}\PY{o}{.}\PY{n}{km} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n}{MAX\PYZus{}DISTANCE}\PY{p}{)}\PY{p}{:}
                 \PY{n}{crimes\PYZus{}within\PYZus{}distance} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{row}\PY{p}{)}
                 
         \PY{n}{crimes\PYZus{}within\PYZus{}distance}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}84}]:}        index  Longitude   Latitude           Location     Crime type  \textbackslash{}
         73170   4094  -5.932404  54.586753     botanic avenue  Bicycle theft   
         73215   4139  -5.926404  54.583029   palestine street       Burglary   
         73360   4284  -5.929958  54.586469                          Burglary   
         73393   4317  -5.925399  54.585151  university avenue       Burglary   
         73410   4334  -5.923238  54.585967        ormeau road       Burglary   
         
                Has\_Location  Year  Month  Week  Quarter  
         73170          True  2016      1    53        1  
         73215          True  2016      1    53        1  
         73360          True  2016      1    53        1  
         73393          True  2016      1    53        1  
         73410          True  2016      1    53        1  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}85}]:} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}86}]:} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}march} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped}\PY{p}{[}\PY{p}{(}\PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}  \PY{o}{==} \PY{l+m+mi}{3}\PY{p}{)}\PY{p}{]}
         \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}march} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}march}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{counts}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}march}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{30}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}86}]:}                       Crime type  counts
         0                  Bicycle theft       6
         1                       Burglary      35
         2      Criminal damage and arson      91
         3                          Drugs      19
         4                    Other crime       1
         5                    Other theft      41
         6          Possession of weapons       4
         7                   Public order       2
         8                        Robbery       2
         9                    Shoplifting       7
         10         Theft from the person       3
         11                 Vehicle crime       5
         12  Violence and sexual offences      92
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}125}]:} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}august} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped}\PY{p}{[}\PY{p}{(}\PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}  \PY{o}{==} \PY{l+m+mi}{8}\PY{p}{)}\PY{p}{]}
          \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}august} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}august}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{counts}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}august}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{30}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}125}]:}                       Crime type  counts
          0                  Bicycle theft       3
          1                       Burglary      25
          2      Criminal damage and arson      40
          3                          Drugs      12
          4                    Other crime       1
          5                    Other theft      24
          6          Possession of weapons       3
          7                        Robbery       3
          8                    Shoplifting       6
          9          Theft from the person       1
          10                 Vehicle crime       8
          11  Violence and sexual offences      68
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}135}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{30}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
          
          \PY{n}{dictCrimeType} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
          \PY{n}{total\PYZus{}august} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}august}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
          \PY{n}{total\PYZus{}march} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}march}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
          
          \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}august}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
              \PY{n}{percent\PYZus{}august} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n+nb}{float}\PY{p}{(}\PY{n}{total\PYZus{}august}\PY{p}{)} \PY{o}{*} \PY{l+m+mi}{100}
              \PY{n}{percent\PYZus{}march} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}march}\PY{p}{[}\PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}march}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n+nb}{float}\PY{p}{(}\PY{n}{total\PYZus{}march}\PY{p}{)} \PY{o}{*} \PY{l+m+mi}{100}
              \PY{n}{difference\PYZus{}percent} \PY{o}{=} \PY{n}{percent\PYZus{}march} \PY{o}{\PYZhy{}} \PY{n}{percent\PYZus{}august}
              \PY{n}{dictCrimeType}\PY{p}{[}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{n}{difference\PYZus{}percent}
              
          \PY{n}{difference} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{o}{.}\PY{n}{from\PYZus{}dict}\PY{p}{(}\PY{n}{dictCrimeType}\PY{p}{,} \PY{n}{orient}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{index}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{difference}\PY{o}{.}\PY{n}{index} \PY{o}{=} \PY{n}{difference}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{str}\PY{p}{)}
          
          \PY{n}{ax} \PY{o}{=} \PY{n}{sb}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{difference}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{difference}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
          \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Percentage of crimes occured}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{ax}\PY{o}{.}\PY{n}{yaxis}\PY{o}{.}\PY{n}{set\PYZus{}major\PYZus{}formatter}\PY{p}{(}\PY{n}{mtick}\PY{o}{.}\PY{n}{PercentFormatter}\PY{p}{(}\PY{p}{)}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Holylands: Chart of changes in crime excluding ASB March vs August}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_155_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     Criminal damage and Arson is considerably up in March compared to
August. Violence and sexual crimes is considerably down in March
compared to August. This could confirm the relationship between ASB and
Criminal Damage and Arson. Let's look at a different hotspot and see if
this holds. 

     City Centre March 2016 City Centre November 2016 City Centre Hotspot

54.595016, -5.934491

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}91}]:} \PY{n}{crimes\PYZus{}within\PYZus{}city\PYZus{}centre\PYZus{}distance} \PY{o}{=} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
         \PY{n}{crimes\PYZus{}within\PYZus{}city\PYZus{}centre\PYZus{}distance} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}city\PYZus{}centre\PYZus{}distance}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{0}\PY{p}{]}
         \PY{n}{area\PYZus{}coord} \PY{o}{=} \PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{54.595016}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}5.934491}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{MAX\PYZus{}DISTANCE} \PY{o}{=} \PY{l+m+mf}{0.5}
         \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{coords} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
             \PY{n}{d} \PY{o}{=} \PY{n}{distance}\PY{o}{.}\PY{n}{vincenty}\PY{p}{(}\PY{n}{area\PYZus{}coord}\PY{p}{,} \PY{n}{coords}\PY{p}{)}
             \PY{k}{if} \PY{p}{(}\PY{n}{d}\PY{o}{.}\PY{n}{km} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n}{MAX\PYZus{}DISTANCE}\PY{p}{)}\PY{p}{:}
                 \PY{n}{crimes\PYZus{}within\PYZus{}city\PYZus{}centre\PYZus{}distance} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}city\PYZus{}centre\PYZus{}distance}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{row}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}92}]:} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre\PYZus{}grouped} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}city\PYZus{}centre\PYZus{}distance}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}93}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre\PYZus{}grouped}\PY{p}{[}\PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre\PYZus{}grouped}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{counts}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{sb}\PY{o}{.}\PY{n}{lineplot}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre\PYZus{}grouped}\PY{p}{[}\PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre\PYZus{}grouped}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{counts}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2016}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2017}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{City Centre: ASB 2016 vs 2017}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}93}]:} Text(0.5,1,'City Centre: ASB 2016 vs 2017')
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_160_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     2016: Peak in summer months, low in January. Rise in January to
February. 2017: Peak in July, low in January. Rise in December. Let's
take a look at the peak in July and the low in January. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}94}]:} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
         \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{0}\PY{p}{]}
         
         \PY{n}{area\PYZus{}coord} \PY{o}{=} \PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{54.595016}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}5.934491}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{MAX\PYZus{}DISTANCE} \PY{o}{=} \PY{l+m+mf}{0.5}
         
         \PY{n}{not\PYZus{}asb\PYZus{}crimes} \PY{o}{=} \PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{p}{[}\PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Anti\PYZhy{}social behaviour}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{psni\PYZus{}crime\PYZus{}data\PYZus{}ranged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Has\PYZus{}Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{k+kc}{True}\PY{p}{)}\PY{p}{]}
         \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{not\PYZus{}asb\PYZus{}crimes}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{coords} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
             \PY{n}{d} \PY{o}{=} \PY{n}{distance}\PY{o}{.}\PY{n}{vincenty}\PY{p}{(}\PY{n}{area\PYZus{}coord}\PY{p}{,} \PY{n}{coords}\PY{p}{)}
             \PY{k}{if} \PY{p}{(}\PY{n}{d}\PY{o}{.}\PY{n}{km} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n}{MAX\PYZus{}DISTANCE}\PY{p}{)}\PY{p}{:}
                 \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{row}\PY{p}{)}
                 
         \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}94}]:}        index  Longitude   Latitude               Location     Crime type  \textbackslash{}
         73169   4093  -5.929880  54.595012        franklin street  Bicycle theft   
         73171   4095  -5.930439  54.592551        bankmore street  Bicycle theft   
         73172   4096  -5.930154  54.597254  donegall square north  Bicycle theft   
         73179   4103  -5.932499  54.598004         college street  Bicycle theft   
         73181   4105  -5.933066  54.591086            dublin road  Bicycle theft   
         
                Has\_Location  Year  Month  Week  Quarter  
         73169          True  2016      1    53        1  
         73171          True  2016      1    53        1  
         73172          True  2016      1    53        1  
         73179          True  2016      1    53        1  
         73181          True  2016      1    53        1  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}95}]:} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre\PYZus{}grouped} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}january} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre\PYZus{}grouped}\PY{p}{[}\PY{p}{(}\PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre\PYZus{}grouped}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}  \PY{o}{==} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
         \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}january} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}january}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{counts}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}january}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{30}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}95}]:}                       Crime type  counts
         0                  Bicycle theft      12
         1                       Burglary      17
         2      Criminal damage and arson      37
         3                          Drugs      27
         4                    Other crime       2
         5                    Other theft      45
         6          Possession of weapons       4
         7                   Public order       2
         8                        Robbery       5
         9                    Shoplifting      38
         10         Theft from the person       9
         11                 Vehicle crime      20
         12  Violence and sexual offences     142
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}96}]:} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre\PYZus{}grouped} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}july} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre\PYZus{}grouped}\PY{p}{[}\PY{p}{(}\PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}city\PYZus{}centre\PYZus{}grouped}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}  \PY{o}{==} \PY{l+m+mi}{7}\PY{p}{)}\PY{p}{]}
         \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}july} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}july}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{counts}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}july}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{30}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}96}]:}                       Crime type  counts
         0                  Bicycle theft      10
         1                       Burglary      18
         2      Criminal damage and arson      45
         3                          Drugs      31
         4                    Other crime       4
         5                    Other theft      59
         6          Possession of weapons       1
         7                   Public order       4
         8                        Robbery       3
         9                    Shoplifting      56
         10         Theft from the person      10
         11                 Vehicle crime      35
         12  Violence and sexual offences     138
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}137}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{30}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
          
          \PY{n}{dictCrimeType} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
          \PY{n}{total\PYZus{}january} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}january}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
          \PY{n}{total\PYZus{}july} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}july}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
          
          \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}january}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
              \PY{n}{percent\PYZus{}january} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n+nb}{float}\PY{p}{(}\PY{n}{total\PYZus{}january}\PY{p}{)} \PY{o}{*} \PY{l+m+mi}{100}
              \PY{n}{percent\PYZus{}july} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}july}\PY{p}{[}\PY{n}{crimes\PYZus{}within\PYZus{}distance\PYZus{}grouped\PYZus{}july}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n+nb}{float}\PY{p}{(}\PY{n}{total\PYZus{}july}\PY{p}{)} \PY{o}{*} \PY{l+m+mi}{100}
              \PY{n}{difference\PYZus{}percent} \PY{o}{=} \PY{n}{percent\PYZus{}july} \PY{o}{\PYZhy{}} \PY{n}{percent\PYZus{}january}
              \PY{n}{dictCrimeType}\PY{p}{[}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{n}{difference\PYZus{}percent}
              
          \PY{n}{difference} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{o}{.}\PY{n}{from\PYZus{}dict}\PY{p}{(}\PY{n}{dictCrimeType}\PY{p}{,} \PY{n}{orient}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{index}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{difference}\PY{o}{.}\PY{n}{index} \PY{o}{=} \PY{n}{difference}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{str}\PY{p}{)}
          
          \PY{n}{ax} \PY{o}{=} \PY{n}{sb}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{difference}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{difference}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
          \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Percentage of crimes occured}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Crime type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{ax}\PY{o}{.}\PY{n}{yaxis}\PY{o}{.}\PY{n}{set\PYZus{}major\PYZus{}formatter}\PY{p}{(}\PY{n}{mtick}\PY{o}{.}\PY{n}{PercentFormatter}\PY{p}{(}\PY{p}{)}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{City Centre: Chart of changes in crime excluding ASB July vs January}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_165_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     Like in the Holylands, Violence and sexual offences are down. However,
Vehicle Crime and Shoplifting are up. This could be the city centre
being a more affluent area with more likely footfall in warmer months.
Criminal damage and arson is up, although not as much as in the
Holylands hotspot.

     I want to see what contributors to ASB people living in Belfast feel
are the biggest problems. I'm going to load in the NICS dataset. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}99}]:} \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/Perceptions of Crime Findings/perceptions\PYZus{}asb\PYZus{}district\PYZus{}2016\PYZus{}2017.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017}\PY{o}{.}\PY{n}{columns}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}99}]:} Index(['Policing District', 'LE Abandoned or burnt-out cars',
                'BE Abandoned or burnt-out cars', 'HE Abandoned or burnt-out cars',
                'LE Noisy neighbours or loud parties',
                'BE Noisy neighbours or loud parties',
                'HE Noisy neighbours or loud parties',
                'LE People being drunk or rowdy in public places',
                'BE People being drunk or rowdy in public places',
                'HE People being drunk or rowdy in public places',
                'LE People using or dealing drugs', 'BE People using or dealing drugs',
                'HE People using or dealing drugs',
                'LE Teenagers hanging around on streets',
                'BE Teenagers hanging around on streets',
                'HE Teenagers hanging around on streets',
                'LE Rubbish or litter lying around',
                'BE Rubbish or litter lying around',
                'HE Rubbish or litter lying around',
                'LE Vandalism, graffiti and other deliberate damage to property',
                'BE Vandalism, graffiti and other deliberate damage to property',
                'HE Vandalism, graffiti and other deliberate damage to property',
                'LE Perceived high level of ASB', 'BE Perceived high level of ASB',
                'HE Perceived high level of ASB', 'Unweighted base'],
               dtype='object')
\end{Verbatim}
            
     NICS use their own algorithm (awarding points for responses to types of
crime) to calculate perceived high level of ASB. I will drop this to
perform my own analysis. I will also drop the LE and HE as they are for
the 95\% confidence interval. This will not be needed as I want the mean
figure (BE) to see if there's an ASB problem specific to Belfast. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}100}]:} \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused} \PY{o}{=} \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Policing District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BE Abandoned or burnt\PYZhy{}out cars}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BE Noisy neighbours or loud parties}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BE People being drunk or rowdy in public places}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BE People using or dealing drugs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BE Teenagers hanging around on streets}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BE Rubbish or litter lying around}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BE Vandalism, graffiti and other deliberate damage to property}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
          \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{30}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}100}]:}                        Policing District  BE Abandoned or burnt-out cars  \textbackslash{}
          0                Antrim and Newtownabbey                        4.065041   
          1                    Ards and North Down                        0.000000   
          2   Armagh City, Banbridge and Craigavon                        2.356021   
          3                           Belfast City                        5.756579   
          4               Causeway Coast and Glens                        1.048951   
          5                  Derry City \& Strabane                       15.210356   
          6                    Fermanagh and Omagh                        4.602510   
          7                Lisburn and Castlereagh                        1.709402   
          8                    Mid and East Antrim                        1.532567   
          9                             Mid Ulster                        0.000000   
          10                Newry, Mourne and Down                        3.858521   
          
              BE Noisy neighbours or loud parties  \textbackslash{}
          0                              8.130081   
          1                              5.483871   
          2                              5.497382   
          3                             10.708402   
          4                              6.993007   
          5                             11.326861   
          6                              5.020921   
          7                              6.329114   
          8                              3.831418   
          9                              0.000000   
          10                             4.823151   
          
              BE People being drunk or rowdy in public places  \textbackslash{}
          0                                         11.065574   
          1                                         15.806452   
          2                                         13.350785   
          3                                         22.039474   
          4                                         16.783217   
          5                                         20.064725   
          6                                         10.878661   
          7                                          7.203390   
          8                                         13.409962   
          9                                          0.000000   
          10                                         7.073955   
          
              BE People using or dealing drugs  BE Teenagers hanging around on streets  \textbackslash{}
          0                          24.017467                               15.040650   
          1                          18.493151                               10.645161   
          2                          23.848238                               13.350785   
          3                          36.619718                               20.723684   
          4                          24.535316                               10.139860   
          5                          24.221453                               24.271845   
          6                          11.538462                                7.949791   
          7                          17.105263                               12.236287   
          8                          27.343750                                7.279693   
          9                           0.000000                                0.000000   
          10                         18.811881                                5.787781   
          
              BE Rubbish or litter lying around  \textbackslash{}
          0                           17.886179   
          1                           24.193548   
          2                           28.010471   
          3                           33.059211   
          4                           27.272727   
          5                           23.948220   
          6                            9.623431   
          7                           31.223629   
          8                           29.118774   
          9                            0.000000   
          10                          15.755627   
          
              BE Vandalism, graffiti and other deliberate damage to property  
          0                                           13.414634               
          1                                            9.032258               
          2                                           11.518325               
          3                                           18.585526               
          4                                           10.139860               
          5                                           20.064725               
          6                                            5.439331               
          7                                           13.502110               
          8                                            6.513410               
          9                                            0.000000               
          10                                           3.858521               
\end{Verbatim}
            
     Dropping Mid Ulster as the sample size was too small (n\textless{}100)
for a percentage perception to be recorded 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}101}]:} \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused} \PY{o}{=} \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused}\PY{p}{[}\PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Policing District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Mid Ulster}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}102}]:} \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
Int64Index: 10 entries, 0 to 10
Data columns (total 8 columns):
Policing District                                                 10 non-null object
BE Abandoned or burnt-out cars                                    10 non-null float64
BE Noisy neighbours or loud parties                               10 non-null float64
BE People being drunk or rowdy in public places                   10 non-null float64
BE People using or dealing drugs                                  10 non-null float64
BE Teenagers hanging around on streets                            10 non-null float64
BE Rubbish or litter lying around                                 10 non-null float64
BE Vandalism, graffiti and other deliberate damage to property    10 non-null float64
dtypes: float64(7), object(1)
memory usage: 720.0+ bytes

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}164}]:} \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Policing District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
          \PY{n}{belfastcity\PYZus{}perception} \PY{o}{=} \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused}\PY{p}{[}\PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Policing District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Belfast City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{x} \PY{o}{=} \PY{n}{belfastcity\PYZus{}perception}\PY{o}{.}\PY{n}{columns}
          \PY{n}{y} \PY{o}{=} \PY{n}{belfastcity\PYZus{}perception}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{35}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
          \PY{n}{sb}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{,} \PY{n}{y}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Belfast City: Perceptions of different types of anti\PYZhy{}social behaviour as very / fairly big problems (}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}164}]:} Text(0.5,1,'Belfast City: Perceptions of different types of anti-social behaviour as very / fairly big problems (\%)')
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_174_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     People using or dealing drugs and rubbish or litter lying around are
the two perceived biggest ASB problems in Belfast City. Abandoned or
burnt-out cars is viewed as the least significant ASB problem in Belfast
City surveyed. Criminal damage which includes vandalism, graffiti and
other deliberate damage to property
(https://www.police.uk/crime-prevention-advice/criminal-damage-arson/)
is 18.58\%. Let's look at the other districts. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}171}]:} \PY{n}{i} \PY{o}{=} \PY{l+m+mi}{1}
          \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{48}\PY{p}{)}\PY{p}{)}
          \PY{k}{for} \PY{n}{column} \PY{o+ow}{in} \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused}\PY{o}{.}\PY{n}{columns}\PY{p}{:}
              \PY{k}{if} \PY{p}{(}\PY{n}{column} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Policing District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{:}
                  \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused}\PY{o}{.}\PY{n}{columns}\PY{p}{)}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{i}\PY{p}{)}
                  \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{45}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{)}\PY{p}{)}
                  \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{n}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Perception of }\PY{l+s+si}{\PYZob{}column\PYZcb{}}\PY{l+s+s2}{ per Policing District}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                  \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused\PYZus{}sorted} \PY{o}{=} \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{p}{[}\PY{n}{column}\PY{p}{]}\PY{p}{,} \PY{n}{ascending}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
                  \PY{n}{sb}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused\PYZus{}sorted}\PY{p}{[}\PY{n}{column}\PY{p}{]}\PY{p}{,} \PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused\PYZus{}sorted}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Policing District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{orient}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{n}{asb\PYZus{}perception\PYZus{}districts\PYZus{}2016\PYZus{}2017\PYZus{}focused\PYZus{}sorted}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Policing District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}} \PY{k}{if} \PY{n}{x} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Belfast City}\PY{l+s+s1}{\PYZsq{}} \PY{k}{else} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
                  \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{perception of types of anti\PYZhy{}social behaviour as very / fairly big problems (}\PY{l+s+s2}{\PYZpc{}}\PY{l+s+s2}{)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                  \PY{n}{i} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_176_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
     People living in Belfast policing district perceive people using or
dealing drugs as the biggest ASB problem in their area, the most of any
policing district by approximately 10\%. People being drunk or rowdy in
public places and rubbish litter lying around is also perceived more by
people living in Belfast City than in other districts. On a sidenote,
people living in Derry City and Strabane perceive abandoned or burnt out
cars as being an ASB problem in their local area disproportionately to
other districts

     Drugs may play a role in perpetuating other types of anti-social
behaviour. Illicit drug users may occupy public spaces or amenities in
order to use drugs. I want to investigate whether or not there's a
concentration of crimes around parks. I'm going to load in a dataset
from Belfast City Council that lists all the parks in Belfast and their
location.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}106}]:} \PY{n}{parks\PYZus{}data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/park/parksdata.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}107}]:} \PY{n}{parks\PYZus{}data}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}107}]:}                                    NAME  \textbackslash{}
          0                     Belfast City Hall   
          1                              Gasworks   
          2              Bridges Urban Skate Park   
          3                     King William Park   
          4          Dover Street Millennium Park   
          5                         Dunville Park   
          6                           Ormeau Park   
          7                       Botanic Gardens   
          8                 Dr Pitt Memorial Park   
          9                        Alexandra Park   
          10                        Woodvale Park   
          11                     Springfield Park   
          12           Marrowbone Millennium Park   
          13                       Drumglass Park   
          14                           Waterworks   
          15                        Victoria Park   
          16                Northwood Linear Park   
          17                      Greenville Park   
          18           Springhill Millennium Park   
          19                           Falls Park   
          20                     Orangefield Park   
          21                      Forthriver Park   
          22                       Glencairn Park   
          23                        Lagan Meadows   
          24         Michelle Baird Memorial Park   
          25                           Grovelands   
          26                        Musgrave Park   
          27            Clarawood Millennium Park   
          28  Alderman Tommy Patton Memorial Park   
          29                        Glenbank Park   
          30                       Loughside Park   
          31                  Clement Wilson Park   
          32              Carr's Glen Linear Park   
          33                         Belmont Park   
          34                        Ligoniel Park   
          35             Knocknagoney Linear Park   
          36                      Barnett Demesne   
          37                Belfast Castle Estate   
          38                          Finlay Park   
          39               Cave Hill Country Park   
          40                      Wedderburn Park   
          41             Lenadoon Millennium Park   
          42                      Carnanmore Park   
          43       Sir Thomas and Lady Dixon Park   
          
                                                ADDRESS  POSTCODE  LONGITUDE   LATITUDE  
          0                             Donegall Square   BT1 5GS  -5.929895  54.596607  
          1                               Ormeau Avenue   BT7 2JB  -5.922746  54.590815  
          2                          Corporation Street   BT1 3DE  -5.924104  54.604449  
          3                              Bradbury Place   BT7 1RS  -5.936026  54.587978  
          4                               Shankill Road  BT13 2HQ  -5.942905  54.601582  
          5                                  Falls Road  BT12 6AN  -5.953253  54.596132  
          6                                 Ormeau Road   BT7 3GG  -5.916132  54.585517  
          7                 College Park Botanic Avenue   BT7 1LP  -5.932015  54.582249  
          8                            Newtownards Road   BT4 1BU  -5.904614  54.600134  
          9                                 Antrim Road  BT15 3BY  -5.932374  54.618824  
          10                              Woodvale Road  BT13 3BN  -5.965406  54.607182  
          11                           Springfield Road  BT12 7QJ  -5.970534  54.599317  
          12                               Oldpark Road  BT14 6QS  -5.953421  54.616531  
          13                               Lisburn Road   BT9 6JF  -5.954841  54.574335  
          14                                Antrim Road  BT14 6NG  -5.943915  54.621455  
          15                                Park Avenue   BT4 1JT  -5.885743  54.607713  
          16                                 Shore Road  BT15 3LZ  -5.926958  54.624850  
          17                               Grand Parade   BT5 5HG  -5.882697  54.588279  
          18                           Springfield Road  BT12 7QJ  -5.980222  54.595867  
          19                                 Falls Road  BT12 6AN  -5.980985  54.587020  
          20           Orangefield Lane Bloomfield Road   BT5 6AH  -5.879558  54.586166  
          21                         Ballygomartin Road  BT13 3LD  -5.976658  54.615008  
          22                             Glencairn Road  BT13 3SQ  -5.980912  54.613507  
          23                         Knightsbridge Park   BT9 5PB  -5.936648  54.561887  
          24                            Forthriver Road  BT13 3UL  -5.979178  54.616937  
          25                            Stockman's Lane   BT9 7JB  -5.969532  54.569353  
          26                            Stockman's Lane   BT9 7JB  -5.973881  54.569947  
          27                             Clarawood Road   BT5 6GE  -5.866714  54.587117  
          28              Inverary Avenue Holywood Road   BT4 1RN  -5.869332  54.611046  
          29                              Ligoniel Road  BT14 8BY  -5.980534  54.623330  
          30                                 Shore Road  BT15 4HP  -5.922303  54.637484  
          31                                   Newforge   BT9 5NX  -5.950436  54.555185  
          32                           Ballysillan Road  BT14 6TN  -5.964015  54.634661  
          33                             Cairnburn Road   BT4 2HR  -5.856421  54.603998  
          34                              Ligoniel Road  BT14 8EF  -5.983615  54.630228  
          35                              Holywood Road   BT4 2PU  -5.856838  54.616962  
          36                  Milltown Road Malone Road   BT9 5PB  -5.959403  54.551743  
          37                                Antrim Road  BT15 5GR  -5.944420  54.644336  
          38                             Whitewell Road  BT36 7EU  -5.921976  54.648458  
          39  Antrim Road (junction of Innisfayle Park)  BT15 5GR  -5.952869  54.647573  
          40                                 Orpen Park  BT10 0BN  -5.987837  54.555355  
          41                            Lenadoon Avenue  BT11 9GU  -6.011389  54.570731  
          42                            Carnanmore Park  BT11 9LY  -6.011475  54.564201  
          43                          Upper Malone Road  BT17 9LA  -5.986199  54.541536  
\end{Verbatim}
            
     As I am concentrating on the Lisburn Road neighbhourhood for my
analysis, I am going to include only parks that are within 0.5km of a
crime in the lisburn road neighbhourhod 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}108}]:} \PY{c+c1}{\PYZsh{} parks\PYZus{}within\PYZus{}crime\PYZus{}distance = parks\PYZus{}data.copy()}
          \PY{c+c1}{\PYZsh{} parks\PYZus{}within\PYZus{}crime\PYZus{}distance = parks\PYZus{}within\PYZus{}crime\PYZus{}distance.iloc[0:0]}
          \PY{c+c1}{\PYZsh{} MAX\PYZus{}DISTANCE = 0.5}
          
          \PY{c+c1}{\PYZsh{} for park\PYZus{}index, park\PYZus{}row in parks\PYZus{}data.iterrows():}
          \PY{c+c1}{\PYZsh{}     longitude = park\PYZus{}row[\PYZsq{}LONGITUDE\PYZsq{}]}
          \PY{c+c1}{\PYZsh{}     latitude = park\PYZus{}row[\PYZsq{}LATITUDE\PYZsq{}]}
          \PY{c+c1}{\PYZsh{}     area\PYZus{}coord = (latitude, longitude)}
          \PY{c+c1}{\PYZsh{}     for index, row in lisburn\PYZus{}road\PYZus{}sampled.iterrows():}
          \PY{c+c1}{\PYZsh{}         coords = (row[\PYZsq{}Latitude\PYZsq{}], row[\PYZsq{}Longitude\PYZsq{}])}
          \PY{c+c1}{\PYZsh{}         d = distance.vincenty(area\PYZus{}coord, coords)}
          \PY{c+c1}{\PYZsh{}         if (d.km \PYZlt{}= MAX\PYZus{}DISTANCE):}
          \PY{c+c1}{\PYZsh{}             print(park\PYZus{}row[\PYZsq{}NAME\PYZsq{}])}
          \PY{c+c1}{\PYZsh{}             parks\PYZus{}within\PYZus{}crime\PYZus{}distance = parks\PYZus{}within\PYZus{}crime\PYZus{}distance.append(park\PYZus{}row)}
          \PY{c+c1}{\PYZsh{}             break;}
                      
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}109}]:} \PY{c+c1}{\PYZsh{} parks\PYZus{}within\PYZus{}crime\PYZus{}distance.to\PYZus{}csv(\PYZsq{}parks\PYZus{}within\PYZus{}crime\PYZus{}distance.csv\PYZsq{}, index=False)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}110}]:} \PY{n}{parks\PYZus{}within\PYZus{}crime\PYZus{}distance} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{parks\PYZus{}within\PYZus{}crime\PYZus{}distance.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{parks\PYZus{}within\PYZus{}crime\PYZus{}distance}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}110}]:}                         NAME                      ADDRESS  POSTCODE  \textbackslash{}
          0          Belfast City Hall              Donegall Square   BT1 5GS   
          1                   Gasworks                Ormeau Avenue   BT7 2JB   
          2   Bridges Urban Skate Park           Corporation Street   BT1 3DE   
          3          King William Park               Bradbury Place   BT7 1RS   
          4                Ormeau Park                  Ormeau Road   BT7 3GG   
          5            Botanic Gardens  College Park Botanic Avenue   BT7 1LP   
          6             Drumglass Park                 Lisburn Road   BT9 6JF   
          7              Lagan Meadows           Knightsbridge Park   BT9 5PB   
          8                 Grovelands              Stockman's Lane   BT9 7JB   
          9              Musgrave Park              Stockman's Lane   BT9 7JB   
          10       Clement Wilson Park                     Newforge   BT9 5NX   
          11           Wedderburn Park                   Orpen Park  BT10 0BN   
          
              LONGITUDE   LATITUDE  
          0   -5.929895  54.596607  
          1   -5.922746  54.590815  
          2   -5.924104  54.604449  
          3   -5.936026  54.587978  
          4   -5.916132  54.585517  
          5   -5.932015  54.582249  
          6   -5.954841  54.574335  
          7   -5.936648  54.561887  
          8   -5.969532  54.569353  
          9   -5.973881  54.569947  
          10  -5.950436  54.555185  
          11  -5.987837  54.555355  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}224}]:} \PY{n}{m} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{l+m+mf}{54.5668}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{5.95328}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
          
          \PY{n}{park\PYZus{}coords} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{n}{crime\PYZus{}coords} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          
          \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{parks\PYZus{}within\PYZus{}crime\PYZus{}distance}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
              \PY{n}{coords} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LATITUDE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LONGITUDE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
              \PY{n}{park\PYZus{}coords}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n+nb}{list}\PY{p}{(}\PY{n}{coords}\PY{p}{)}\PY{p}{)}
              
          \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{lisburn\PYZus{}road\PYZus{}march\PYZus{}2016}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
              \PY{n}{coords} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
              \PY{n}{crime\PYZus{}coords}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n+nb}{list}\PY{p}{(}\PY{n}{coords}\PY{p}{)}\PY{p}{)}
          
          \PY{n}{m}\PY{o}{.}\PY{n}{add\PYZus{}child}\PY{p}{(}\PY{n}{HeatMap}\PY{p}{(}\PY{n}{crime\PYZus{}coords}\PY{p}{)}\PY{p}{)}
          \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{j} \PY{o+ow}{in} \PY{n}{park\PYZus{}coords}\PY{p}{:}
                  \PY{n}{folium}\PY{o}{.}\PY{n}{Circle}\PY{p}{(}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{n}{j}\PY{p}{]}\PY{p}{,} \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{300}\PY{p}{,} \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{m}\PY{p}{)}
          
          
          \PY{n}{m}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}224}]:} <folium.folium.Map at 0x200adefc400>
\end{Verbatim}
            
     Drumglass Park and Botanic Gardens a clear concentration. Botanic
Gardens includes the Holylands hotspot in its radius. City Hall does
encompass a lot more of a dense crime hotspot. Due to the inaccuracy in
locations setting the longtitude latitude to the nearest street, Belvoir
Park Forest's crime radius may not include crimes happening within the
forest. Overall, the shape of crime does not seem to concentrate itself
close to parks in areas Stranmillis and Donegall Road. Let's get a count
of the close crimes in the 0.25km radius of the parks. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}226}]:} \PY{n}{parks\PYZus{}within\PYZus{}crime\PYZus{}distance}
          \PY{n}{MAX\PYZus{}DISTANCE} \PY{o}{=} \PY{l+m+mf}{0.3}
          
          \PY{k}{for} \PY{n}{park\PYZus{}index}\PY{p}{,} \PY{n}{park\PYZus{}row} \PY{o+ow}{in} \PY{n}{parks\PYZus{}within\PYZus{}crime\PYZus{}distance}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
              \PY{n}{count} \PY{o}{=} \PY{l+m+mi}{0}
              \PY{n}{longitude} \PY{o}{=} \PY{n}{park\PYZus{}row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LONGITUDE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
              \PY{n}{latitude} \PY{o}{=} \PY{n}{park\PYZus{}row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LATITUDE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
              \PY{n}{area\PYZus{}coord} \PY{o}{=} \PY{p}{(}\PY{n}{latitude}\PY{p}{,} \PY{n}{longitude}\PY{p}{)}
              \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
                  \PY{n}{coords} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
                  \PY{n}{d} \PY{o}{=} \PY{n}{distance}\PY{o}{.}\PY{n}{vincenty}\PY{p}{(}\PY{n}{area\PYZus{}coord}\PY{p}{,} \PY{n}{coords}\PY{p}{)}
                  \PY{k}{if} \PY{p}{(}\PY{n}{d}\PY{o}{.}\PY{n}{km} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n}{MAX\PYZus{}DISTANCE}\PY{p}{)}\PY{p}{:}
                      \PY{n}{count} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
              \PY{n}{parks\PYZus{}within\PYZus{}crime\PYZus{}distance}\PY{o}{.}\PY{n}{at}\PY{p}{[}\PY{n}{park\PYZus{}index}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Close\PYZus{}Crimes\PYZus{}Count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{count}
                      
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}227}]:} \PY{n}{parks\PYZus{}within\PYZus{}crime\PYZus{}distance}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Close\PYZus{}Crimes\PYZus{}Count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ascending}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}227}]:}                         NAME                      ADDRESS  POSTCODE  \textbackslash{}
          0          Belfast City Hall              Donegall Square   BT1 5GS   
          3          King William Park               Bradbury Place   BT7 1RS   
          5            Botanic Gardens  College Park Botanic Avenue   BT7 1LP   
          1                   Gasworks                Ormeau Avenue   BT7 2JB   
          6             Drumglass Park                 Lisburn Road   BT9 6JF   
          8                 Grovelands              Stockman's Lane   BT9 7JB   
          4                Ormeau Park                  Ormeau Road   BT7 3GG   
          9              Musgrave Park              Stockman's Lane   BT9 7JB   
          11           Wedderburn Park                   Orpen Park  BT10 0BN   
          10       Clement Wilson Park                     Newforge   BT9 5NX   
          2   Bridges Urban Skate Park           Corporation Street   BT1 3DE   
          7              Lagan Meadows           Knightsbridge Park   BT9 5PB   
          
              LONGITUDE   LATITUDE  Close\_Crimes\_Count  
          0   -5.929895  54.596607              2391.0  
          3   -5.936026  54.587978              1887.0  
          5   -5.932015  54.582249               298.0  
          1   -5.922746  54.590815               207.0  
          6   -5.954841  54.574335               150.0  
          8   -5.969532  54.569353                91.0  
          4   -5.916132  54.585517                90.0  
          9   -5.973881  54.569947                36.0  
          11  -5.987837  54.555355                22.0  
          10  -5.950436  54.555185                 5.0  
          2   -5.924104  54.604449                 0.0  
          7   -5.936648  54.561887                 0.0  
\end{Verbatim}
            
     I'm going to focus on Botanic Gardens and analyse the monthly
distribution of crimes near this park. I am not going to look at the
trend of King William Park as it is a small minor park and Belfast City
Hall could be because of high footfall in that area.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}242}]:} \PY{n}{parks\PYZus{}within\PYZus{}crime\PYZus{}distance}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}242}]:}                         NAME                      ADDRESS  POSTCODE  \textbackslash{}
          0          Belfast City Hall              Donegall Square   BT1 5GS   
          1                   Gasworks                Ormeau Avenue   BT7 2JB   
          2   Bridges Urban Skate Park           Corporation Street   BT1 3DE   
          3          King William Park               Bradbury Place   BT7 1RS   
          4                Ormeau Park                  Ormeau Road   BT7 3GG   
          5            Botanic Gardens  College Park Botanic Avenue   BT7 1LP   
          6             Drumglass Park                 Lisburn Road   BT9 6JF   
          7              Lagan Meadows           Knightsbridge Park   BT9 5PB   
          8                 Grovelands              Stockman's Lane   BT9 7JB   
          9              Musgrave Park              Stockman's Lane   BT9 7JB   
          10       Clement Wilson Park                     Newforge   BT9 5NX   
          11           Wedderburn Park                   Orpen Park  BT10 0BN   
          
              LONGITUDE   LATITUDE  Close\_Crimes\_Count  
          0   -5.929895  54.596607              2391.0  
          1   -5.922746  54.590815               207.0  
          2   -5.924104  54.604449                 0.0  
          3   -5.936026  54.587978              1887.0  
          4   -5.916132  54.585517                90.0  
          5   -5.932015  54.582249               298.0  
          6   -5.954841  54.574335               150.0  
          7   -5.936648  54.561887                 0.0  
          8   -5.969532  54.569353                91.0  
          9   -5.973881  54.569947                36.0  
          10  -5.950436  54.555185                 5.0  
          11  -5.987837  54.555355                22.0  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}251}]:} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
Int64Index: 18191 entries, 7 to 170908
Data columns (total 12 columns):
index                18191 non-null int64
Longitude            18191 non-null float64
Latitude             18191 non-null float64
Location             14797 non-null object
Crime type           18191 non-null object
Has\_Location         18191 non-null bool
Year                 18191 non-null int64
Month                18191 non-null int64
Week                 18191 non-null int64
Quarter              18191 non-null int64
Neighbourhood        18191 non-null object
Policing\_District    18191 non-null object
dtypes: bool(1), float64(2), int64(5), object(4)
memory usage: 1.7+ MB

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}275}]:} \PY{n}{crimes\PYZus{}within\PYZus{}parks\PYZus{}distance} \PY{o}{=} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
          \PY{n}{crimes\PYZus{}within\PYZus{}parks\PYZus{}distance} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}parks\PYZus{}distance}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{0}\PY{p}{]}
          \PY{n}{crimes\PYZus{}not\PYZus{}within\PYZus{}parks\PYZus{}distance} \PY{o}{=} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
          \PY{n}{crimes\PYZus{}not\PYZus{}within\PYZus{}parks\PYZus{}distance} \PY{o}{=} \PY{n}{crimes\PYZus{}not\PYZus{}within\PYZus{}parks\PYZus{}distance}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{0}\PY{p}{]}
          \PY{n}{MAX\PYZus{}DISTANCE} \PY{o}{=} \PY{l+m+mf}{0.3}
          
          \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
              \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{j} \PY{o+ow}{in} \PY{n}{park\PYZus{}coords}\PY{p}{:}
                  \PY{n}{coords} \PY{o}{=} \PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
                  \PY{n}{area\PYZus{}coords} \PY{o}{=} \PY{p}{(}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{)}
                  \PY{n}{d} \PY{o}{=} \PY{n}{distance}\PY{o}{.}\PY{n}{vincenty}\PY{p}{(}\PY{n}{area\PYZus{}coords}\PY{p}{,} \PY{n}{coords}\PY{p}{)}
                  \PY{k}{if} \PY{p}{(}\PY{n}{d}\PY{o}{.}\PY{n}{km} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n}{MAX\PYZus{}DISTANCE}\PY{p}{)}\PY{p}{:}
                      \PY{n}{crimes\PYZus{}within\PYZus{}parks\PYZus{}distance} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}parks\PYZus{}distance}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{row}\PY{p}{)}
                      \PY{k}{break}\PY{p}{;}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}289}]:} \PY{n}{crimes\PYZus{}within\PYZus{}parks\PYZus{}distance}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}289}]:}      index  Longitude   Latitude        Location             Crime type  \textbackslash{}
          7        7  -5.933398  54.597974  college street  Anti-social behaviour   
          29      29  -5.937072  54.585593             NaN  Anti-social behaviour   
          141    141  -5.933651  54.595113             NaN  Anti-social behaviour   
          203    203  -5.932781  54.587541  botanic avenue  Anti-social behaviour   
          231    232  -5.930334  54.599189   castle street  Anti-social behaviour   
          
               Has\_Location  Year  Month  Week  Quarter Neighbourhood Policing\_District  
          7            True  2015      8    31        3  Lisburn Road      Belfast City  
          29           True  2015      8    31        3  Lisburn Road      Belfast City  
          141          True  2015      8    31        3  Lisburn Road      Belfast City  
          203          True  2015      8    31        3  Lisburn Road      Belfast City  
          231          True  2015      8    31        3  Lisburn Road      Belfast City  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}287}]:} \PY{n}{crimes\PYZus{}within\PYZus{}parks\PYZus{}distance}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
Int64Index: 5141 entries, 7 to 170908
Data columns (total 12 columns):
index                5141 non-null int64
Longitude            5141 non-null float64
Latitude             5141 non-null float64
Location             4290 non-null object
Crime type           5141 non-null object
Has\_Location         5141 non-null bool
Year                 5141 non-null int64
Month                5141 non-null int64
Week                 5141 non-null int64
Quarter              5141 non-null int64
Neighbourhood        5141 non-null object
Policing\_District    5141 non-null object
dtypes: bool(1), float64(2), int64(5), object(4)
memory usage: 647.0+ KB

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}285}]:} \PY{n}{crimes\PYZus{}not\PYZus{}within\PYZus{}parks\PYZus{}distance} \PY{o}{=} \PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{lisburn\PYZus{}road\PYZus{}sampled}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{n}{crimes\PYZus{}within\PYZus{}parks\PYZus{}distance}\PY{p}{)}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}286}]:} \PY{n}{crimes\PYZus{}not\PYZus{}within\PYZus{}parks\PYZus{}distance}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
Int64Index: 18191 entries, 7 to 170908
Data columns (total 12 columns):
index                13050 non-null float64
Longitude            13050 non-null float64
Latitude             13050 non-null float64
Location             10507 non-null object
Crime type           13050 non-null object
Has\_Location         13050 non-null float64
Year                 13050 non-null float64
Month                13050 non-null float64
Week                 13050 non-null float64
Quarter              13050 non-null float64
Neighbourhood        13050 non-null object
Policing\_District    13050 non-null object
dtypes: float64(8), object(4)
memory usage: 1.8+ MB

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}266}]:} \PY{n}{parks\PYZus{}month\PYZus{}year} \PY{o}{=} \PY{n}{crimes\PYZus{}within\PYZus{}parks\PYZus{}distance}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{counts}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}266}]:}    Month  Year  counts
          0      1  2016     125
          1      1  2017     113
          2      1  2018     127
          3      2  2016     143
          4      2  2017     140
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}267}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
          
          \PY{n}{yvals2016} \PY{o}{=} \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{parks\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{counts}
          \PY{n}{xvals2016} \PY{o}{=} \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{parks\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{o}{.}\PY{n}{Month}
          \PY{n}{yvals2017} \PY{o}{=} \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{parks\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{counts}
          \PY{n}{xvals2017} \PY{o}{=} \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{n}{parks\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{Year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{o}{.}\PY{n}{Month}
          \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{xvals2017}\PY{p}{,} \PY{n}{yvals2017}\PY{p}{,} \PY{n}{marker} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{xvals2016}\PY{p}{,} \PY{n}{yvals2016}\PY{p}{,} \PY{n}{marker} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{13}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Feb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Apr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{May}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jun}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Jul}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sep}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Oct}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nov}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Dec}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Months}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of crimes}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Chart of all crimes and anti\PYZhy{}social behaviour occuring per month: 2016 versus 2017}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}267}]:} Text(0.5,1,'Chart of all crimes and anti-social behaviour occuring per month: 2016 versus 2017')
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_198_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}268}]:} \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{k+kc}{None}
          
          \PY{n}{months} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JAN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FEB}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MAR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{APR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MAY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JUN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JUL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AUG}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SEP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{OCT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NOV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DEC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{k}{for} \PY{n}{index}\PY{p}{,}\PY{n}{row} \PY{o+ow}{in} \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
              \PY{n}{month} \PY{o}{=} \PY{n}{months}\PY{p}{[}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
              \PY{n}{temperature} \PY{o}{=} \PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{n}{mean\PYZus{}temp\PYZus{}4\PYZus{}years}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{n}{month}\PY{p}{]}
              \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{at}\PY{p}{[}\PY{n}{index}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{temperature}
          
          \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{)}
          \PY{n}{parks\PYZus{}month\PYZus{}year} \PY{o}{=} \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}263}]:} \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{30}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}263}]:}     counts
          0      125
          1      113
          2      127
          3      143
          4      140
          5      145
          6      177
          7      154
          8      130
          9      140
          10     144
          11     163
          12     179
          13     167
          14     193
          15     162
          16     154
          17     174
          18     211
          19     125
          20     151
          21     152
          22     114
          23     177
          24     186
          25     143
          26     139
          27     151
          28     140
          29     136
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}270}]:} \PY{n}{parks\PYZus{}month\PYZus{}year}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}270}]:}               counts  Temperature
          counts       1.00000      0.48874
          Temperature  0.48874      1.00000
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}119}]:} \PY{n}{asb\PYZus{}biggest\PYZus{}problem} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/Perceptions of Crime Findings/different\PYZus{}types\PYZus{}asb\PYZus{}biggest\PYZus{}problem.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{asb\PYZus{}biggest\PYZus{}problem}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}119}]:}       Year  Abandoned or burnt-out cars  Noisy neighbours or loud parties  \textbackslash{}
          0  2008/09                     0.749625                          3.720867   
          1  2009/10                     0.934216                          4.346698   
          2  2010/11                     0.951760                          3.728814   
          3  2011/12                     0.774994                          4.417463   
          4  2012/13                     0.447840                          4.425711   
          
             People being drunk or rowdy in public places  \textbackslash{}
          0                                     10.849121   
          1                                     11.327365   
          2                                      9.895698   
          3                                     10.036166   
          4                                      8.245522   
          
             People using or dealing drugs  Teenagers hanging around on streets  \textbackslash{}
          0                       7.755213                            22.993049   
          1                       7.045543                            20.903075   
          2                       9.191656                            18.591917   
          3                       8.951175                            17.514854   
          4                      10.089568                            15.964173   
          
             Rubbish or litter lying around  \textbackslash{}
          0                       15.810277   
          1                       15.842740   
          2                       17.913950   
          3                       18.496513   
          4                       18.005796   
          
             Vandalism, graffiti and other deliberate damage to property  None of these  \textbackslash{}
          0                                           6.623961                31.497887   
          1                                           7.292072                32.308291   
          2                                           6.636245                33.089961   
          3                                           6.962025                32.846810   
          4                                           5.518967                37.302424   
          
             Unweighted base  
          0             3852  
          1             4090  
          2             4066  
          3             4055  
          4             4049  
\end{Verbatim}
            
     The proportion of respondents believing there has been `a little more
crime' or `a lot more crime'; these figures may not sum to the `more
crime' composite figure due to rounding. 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}120}]:} \PY{n}{osm} \PY{o}{=} \PY{n}{geocoder}\PY{o}{.}\PY{n}{osm}\PY{p}{(}\PY{p}{[}\PY{n}{anti\PYZus{}social\PYZus{}crime}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{]}\PY{o}{.}\PY{n}{Latitude}\PY{p}{,} \PY{n}{anti\PYZus{}social\PYZus{}crime}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{]}\PY{o}{.}\PY{n}{Longitude}\PY{p}{]}\PY{p}{,} \PY{n}{method}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reverse}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}121}]:} \PY{n}{result} \PY{o}{=} \PY{n}{osm}\PY{o}{.}\PY{n}{json}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}122}]:} \PY{n}{result}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}122}]:} \{'accuracy': 0.001,
           'address': 'Rodney Drive, Ballymurphy, Belfast, County Antrim, Northern Ireland, BT12 6HN, UK',
           'bbox': \{'northeast': [54.5877489, -5.9623188],
            'southwest': [54.5872416, -5.9650519]\},
           'city': 'Belfast',
           'confidence': 10,
           'country': 'UK',
           'country\_code': 'gb',
           'county': 'County Antrim',
           'importance': 0.001,
           'lat': 54.5874972,
           'lng': -5.963674,
           'ok': True,
           'osm\_id': '32932478',
           'osm\_type': 'way',
           'place\_id': '83608986',
           'place\_rank': '26',
           'postal': 'BT12 6HN',
           'quality': 'residential',
           'raw': \{'place\_id': '83608986',
            'licence': 'Data  OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright',
            'osm\_type': 'way',
            'osm\_id': '32932478',
            'boundingbox': ['54.5872416', '54.5877489', '-5.9650519', '-5.9623188'],
            'lat': '54.5874972',
            'lon': '-5.963674',
            'display\_name': 'Rodney Drive, Ballymurphy, Belfast, County Antrim, Northern Ireland, BT12 6HN, UK',
            'place\_rank': '26',
            'category': 'highway',
            'type': 'residential',
            'importance': 0.001,
            'address': \{'road': 'Rodney Drive',
             'locality': 'Ballymurphy',
             'city': 'Belfast',
             'county': 'County Antrim',
             'state': 'Northern Ireland',
             'postcode': 'BT12 6HN',
             'country': 'UK',
             'country\_code': 'gb'\}\},
           'region': 'Northern Ireland',
           'state': 'Northern Ireland',
           'status': 'OK',
           'street': 'Rodney Drive',
           'type': 'residential'\}
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}123}]:} \PY{n}{osm} \PY{o}{=} \PY{n}{geocoder}\PY{o}{.}\PY{n}{bing}\PY{p}{(}\PY{p}{[}\PY{n}{anti\PYZus{}social\PYZus{}crime}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{]}\PY{o}{.}\PY{n}{Latitude}\PY{p}{,} \PY{n}{anti\PYZus{}social\PYZus{}crime}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{]}\PY{o}{.}\PY{n}{Longitude}\PY{p}{]}\PY{p}{,} \PY{n}{method}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reverse}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{key}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Aqi3VPnaoruTVcLa2v\PYZhy{}o5gL\PYZus{}pwm7RnRDz0V6zzlGG3jgTUWT552Ud4gphnyOjIlH}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}124}]:} \PY{n}{osm}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}124}]:} <[OK] Bing - Reverse [29 Rodney Parade, Belfast, BT12 6]>
\end{Verbatim}
            

    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
